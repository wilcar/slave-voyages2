<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Filtrage de lignes | A Minimal Book Example</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Filtrage de lignes | A Minimal Book Example" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Filtrage de lignes | A Minimal Book Example" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Yihui Xie" />


<meta name="date" content="2020-04-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ordonner-les-lignes-en-fonction-des-colonnes.html"/>
<link rel="next" href="methods.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="prise-en-main.html"><a href="prise-en-main.html"><i class="fa fa-check"></i><b>1</b> Prise en main</a><ul>
<li class="chapter" data-level="1.1" data-path="prise-en-main.html"><a href="prise-en-main.html#installation"><i class="fa fa-check"></i><b>1.1</b> Installation</a><ul>
<li class="chapter" data-level="1.1.1" data-path="prise-en-main.html"><a href="prise-en-main.html#installer-r"><i class="fa fa-check"></i><b>1.1.1</b> Installer R</a></li>
<li class="chapter" data-level="1.1.2" data-path="prise-en-main.html"><a href="prise-en-main.html#installer-rstudio"><i class="fa fa-check"></i><b>1.1.2</b> Installer RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="prise-en-main.html"><a href="prise-en-main.html#evolutivité"><i class="fa fa-check"></i><b>1.2</b> Evolutivité</a></li>
<li class="chapter" data-level="1.3" data-path="prise-en-main.html"><a href="prise-en-main.html#interface"><i class="fa fa-check"></i><b>1.3</b> Interface</a><ul>
<li class="chapter" data-level="1.3.1" data-path="prise-en-main.html"><a href="prise-en-main.html#quelques-repères-indispensables-pour-débuter"><i class="fa fa-check"></i><b>1.3.1</b> Quelques repères indispensables pour débuter</a></li>
<li class="chapter" data-level="1.3.2" data-path="prise-en-main.html"><a href="prise-en-main.html#organiser-ses-fichiers-dans-un-projet"><i class="fa fa-check"></i><b>1.3.2</b> Organiser ses fichiers dans un projet</a></li>
<li class="chapter" data-level="1.3.3" data-path="prise-en-main.html"><a href="prise-en-main.html#console-et-scripts"><i class="fa fa-check"></i><b>1.3.3</b> Console et scripts</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="prise-en-main.html"><a href="prise-en-main.html#quelques-bases-du-langage"><i class="fa fa-check"></i><b>1.4</b> Quelques bases du langage</a><ul>
<li class="chapter" data-level="1.4.1" data-path="prise-en-main.html"><a href="prise-en-main.html#des-instructions-simples-les-expressions-arithmétiques"><i class="fa fa-check"></i><b>1.4.1</b> Des instructions simples, les expressions arithmétiques</a></li>
<li class="chapter" data-level="1.4.2" data-path="prise-en-main.html"><a href="prise-en-main.html#les-variables"><i class="fa fa-check"></i><b>1.4.2</b> Les variables</a></li>
<li class="chapter" data-level="1.4.3" data-path="prise-en-main.html"><a href="prise-en-main.html#les-vecteurs"><i class="fa fa-check"></i><b>1.4.3</b> Les vecteurs</a></li>
<li class="chapter" data-level="1.4.4" data-path="prise-en-main.html"><a href="prise-en-main.html#les-fonctions"><i class="fa fa-check"></i><b>1.4.4</b> Les fonctions</a></li>
<li class="chapter" data-level="1.4.5" data-path="prise-en-main.html"><a href="prise-en-main.html#règles-et-conventions-de-syntaxe"><i class="fa fa-check"></i><b>1.4.5</b> Règles et conventions de syntaxe</a></li>
<li class="chapter" data-level="1.4.6" data-path="prise-en-main.html"><a href="prise-en-main.html#commenter-ses-instructions"><i class="fa fa-check"></i><b>1.4.6</b> Commenter ses instructions</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="prise-en-main.html"><a href="prise-en-main.html#références"><i class="fa fa-check"></i><b>1.5</b> Références</a><ul>
<li class="chapter" data-level="1.5.1" data-path="prise-en-main.html"><a href="prise-en-main.html#références-générales"><i class="fa fa-check"></i><b>1.5.1</b> Références générales</a></li>
<li class="chapter" data-level="1.5.2" data-path="prise-en-main.html"><a href="prise-en-main.html#bases-du-langages"><i class="fa fa-check"></i><b>1.5.2</b> Bases du langages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="manipuler-les-données.html"><a href="manipuler-les-données.html"><i class="fa fa-check"></i><b>2</b> Manipuler les données</a><ul>
<li class="chapter" data-level="2.1" data-path="manipuler-les-données.html"><a href="manipuler-les-données.html#tidyverse"><i class="fa fa-check"></i><b>2.1</b> Tidyverse</a></li>
<li class="chapter" data-level="2.2" data-path="manipuler-les-données.html"><a href="manipuler-les-données.html#appel-des-packages"><i class="fa fa-check"></i><b>2.2</b> Appel des packages</a></li>
<li class="chapter" data-level="2.3" data-path="manipuler-les-données.html"><a href="manipuler-les-données.html#mini-jeu-de-données-utilisé-comme-exemple"><i class="fa fa-check"></i><b>2.3</b> Mini-jeu de données utilisé comme exemple</a></li>
<li class="chapter" data-level="2.4" data-path="manipuler-les-données.html"><a href="manipuler-les-données.html#lopérateur-piping-operator"><i class="fa fa-check"></i><b>2.4</b> L’opérateur %&gt;% (piping operator)</a></li>
<li class="chapter" data-level="2.5" data-path="manipuler-les-données.html"><a href="manipuler-les-données.html#références-1"><i class="fa fa-check"></i><b>2.5</b> Références</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="sélectionner-des-colonnes.html"><a href="sélectionner-des-colonnes.html"><i class="fa fa-check"></i><b>3</b> Sélectionner des colonnes</a><ul>
<li class="chapter" data-level="3.1" data-path="sélectionner-des-colonnes.html"><a href="sélectionner-des-colonnes.html#opérations-courantes"><i class="fa fa-check"></i><b>3.1</b> Opérations courantes</a><ul>
<li class="chapter" data-level="3.1.1" data-path="sélectionner-des-colonnes.html"><a href="sélectionner-des-colonnes.html#sélection-dune-colonne-repérée-par-son-nom"><i class="fa fa-check"></i><b>3.1.1</b> Sélection d’une colonne repérée par son nom</a></li>
<li class="chapter" data-level="3.1.2" data-path="sélectionner-des-colonnes.html"><a href="sélectionner-des-colonnes.html#sélection-dune-colonne-repérée-par-sa-position-dindex"><i class="fa fa-check"></i><b>3.1.2</b> Sélection d’une colonne repérée par sa position d’index</a></li>
<li class="chapter" data-level="3.1.3" data-path="sélectionner-des-colonnes.html"><a href="sélectionner-des-colonnes.html#sélection-de-colonnes-multiples-noms-de-variables"><i class="fa fa-check"></i><b>3.1.3</b> Sélection de colonnes multiples (noms de variables)</a></li>
<li class="chapter" data-level="3.1.4" data-path="sélectionner-des-colonnes.html"><a href="sélectionner-des-colonnes.html#sélection-de-colonnes-multiples-position-dindex"><i class="fa fa-check"></i><b>3.1.4</b> Sélection de colonnes multiples (position d’index)</a></li>
<li class="chapter" data-level="3.1.5" data-path="sélectionner-des-colonnes.html"><a href="sélectionner-des-colonnes.html#sélection-de-colonnes-contiguës"><i class="fa fa-check"></i><b>3.1.5</b> Sélection de colonnes contiguës</a></li>
<li class="chapter" data-level="3.1.6" data-path="sélectionner-des-colonnes.html"><a href="sélectionner-des-colonnes.html#sélection-par-exclusion"><i class="fa fa-check"></i><b>3.1.6</b> Sélection par exclusion</a></li>
<li class="chapter" data-level="3.1.7" data-path="sélectionner-des-colonnes.html"><a href="sélectionner-des-colonnes.html#compléter-une-sélection-par-les-colonnes-non-encore-sélectionnées"><i class="fa fa-check"></i><b>3.1.7</b> Compléter une sélection par les colonnes non encore sélectionnées</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="sélectionner-des-colonnes.html"><a href="sélectionner-des-colonnes.html#opérations-particulières"><i class="fa fa-check"></i><b>3.2</b> Opérations particulières</a><ul>
<li class="chapter" data-level="3.2.1" data-path="sélectionner-des-colonnes.html"><a href="sélectionner-des-colonnes.html#ré-agencer-des-colonnes-alphabétiquement"><i class="fa fa-check"></i><b>3.2.1</b> Ré-agencer des colonnes alphabétiquement</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ordonner-les-lignes-en-fonction-des-colonnes.html"><a href="ordonner-les-lignes-en-fonction-des-colonnes.html"><i class="fa fa-check"></i><b>4</b> Ordonner les lignes en fonction des colonnes</a><ul>
<li class="chapter" data-level="4.1" data-path="ordonner-les-lignes-en-fonction-des-colonnes.html"><a href="ordonner-les-lignes-en-fonction-des-colonnes.html#tri-à-partir-dune-colonne-unique"><i class="fa fa-check"></i><b>4.1</b> Tri à partir d’une colonne unique</a><ul>
<li class="chapter" data-level="4.1.1" data-path="ordonner-les-lignes-en-fonction-des-colonnes.html"><a href="ordonner-les-lignes-en-fonction-des-colonnes.html#tri-ascendant"><i class="fa fa-check"></i><b>4.1.1</b> Tri ascendant</a></li>
<li class="chapter" data-level="4.1.2" data-path="ordonner-les-lignes-en-fonction-des-colonnes.html"><a href="ordonner-les-lignes-en-fonction-des-colonnes.html#tri-descendant"><i class="fa fa-check"></i><b>4.1.2</b> Tri descendant</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="ordonner-les-lignes-en-fonction-des-colonnes.html"><a href="ordonner-les-lignes-en-fonction-des-colonnes.html#tri-selon-plusieurs-colonnes"><i class="fa fa-check"></i><b>4.2</b> Tri selon plusieurs colonnes</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="filtrage-de-lignes.html"><a href="filtrage-de-lignes.html"><i class="fa fa-check"></i><b>5</b> Filtrage de lignes</a><ul>
<li class="chapter" data-level="5.1" data-path="filtrage-de-lignes.html"><a href="filtrage-de-lignes.html#filtrage-en-fonction-dune-colonne"><i class="fa fa-check"></i><b>5.1</b> Filtrage en fonction d’une colonne</a><ul>
<li class="chapter" data-level="5.1.1" data-path="filtrage-de-lignes.html"><a href="filtrage-de-lignes.html#filtrage-portant-sur-des-données-textuelles"><i class="fa fa-check"></i><b>5.1.1</b> Filtrage portant sur des données textuelles</a></li>
<li class="chapter" data-level="5.1.2" data-path="filtrage-de-lignes.html"><a href="filtrage-de-lignes.html#filtrage-valeurs-numériques"><i class="fa fa-check"></i><b>5.1.2</b> Filtrage, valeurs numériques</a></li>
<li class="chapter" data-level="5.1.3" data-path="filtrage-de-lignes.html"><a href="filtrage-de-lignes.html#filtrage-basé-sur-un-vecteur"><i class="fa fa-check"></i><b>5.1.3</b> Filtrage basé sur un vecteur</a></li>
<li class="chapter" data-level="5.1.4" data-path="filtrage-de-lignes.html"><a href="filtrage-de-lignes.html#filtrage-des-observations-manquantes"><i class="fa fa-check"></i><b>5.1.4</b> Filtrage des observations manquantes</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="filtrage-de-lignes.html"><a href="filtrage-de-lignes.html#filtrage-en-fonction-de-plusieurs-colonnes"><i class="fa fa-check"></i><b>5.2</b> Filtrage en fonction de plusieurs colonnes</a><ul>
<li class="chapter" data-level="5.2.1" data-path="filtrage-de-lignes.html"><a href="filtrage-de-lignes.html#utilisation-de-la-fonction-filter"><i class="fa fa-check"></i><b>5.2.1</b> Utilisation de la fonction filter</a></li>
<li class="chapter" data-level="5.2.2" data-path="filtrage-de-lignes.html"><a href="filtrage-de-lignes.html#utilisation-de-la-fonction-filter_at"><i class="fa fa-check"></i><b>5.2.2</b> Utilisation de la fonction filter_at</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="filtrage-de-lignes.html"><a href="filtrage-de-lignes.html#exemples"><i class="fa fa-check"></i><b>5.3</b> Exemples</a><ul>
<li class="chapter" data-level="5.3.1" data-path="filtrage-de-lignes.html"><a href="filtrage-de-lignes.html#femmes-propriétaires-de-navires-nantais-armés-pour-la-traite-atlantique"><i class="fa fa-check"></i><b>5.3.1</b> Femmes propriétaires de navires nantais armés pour la traite atlantique</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>6</b> Methods</a></li>
<li class="chapter" data-level="7" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>7</b> Applications</a><ul>
<li class="chapter" data-level="7.1" data-path="applications.html"><a href="applications.html#example-one"><i class="fa fa-check"></i><b>7.1</b> Example one</a></li>
<li class="chapter" data-level="7.2" data-path="applications.html"><a href="applications.html#example-two"><i class="fa fa-check"></i><b>7.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>8</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Minimal Book Example</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="filtrage-de-lignes" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Filtrage de lignes</h1>
<p>La fonction <code>filter</code> permet de sélectionner des lignes d’un tableau de données.</p>
<div id="filtrage-en-fonction-dune-colonne" class="section level2">
<h2><span class="header-section-number">5.1</span> Filtrage en fonction d’une colonne</h2>
<div id="filtrage-portant-sur-des-données-textuelles" class="section level3">
<h3><span class="header-section-number">5.1.1</span> Filtrage portant sur des données textuelles</h3>
<div id="filtrage-correspondance-exacte" class="section level4">
<h4><span class="header-section-number">5.1.1.1</span> Filtrage, correspondance exacte</h4>
<ul>
<li>Pour effectuer un filtrage portant sur une chaîne de caractère exacte, nous employons le signe d’égalité <code>==</code>. Attention à encadrer la chaîne de caractère par des guillemets doubles.</li>
<li>Lorsqu’il s’agit d’exprimer la négation, le signe de l’exclusion <code>!</code> est ajouté comme préfixe au nom de colonne sur laquelle port le filtrage. :warning: le signe <code>!</code> ne remplace pas le signe d’égalité <code>==</code>).</li>
</ul>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="filtrage-de-lignes.html#cb90-1"></a>dataset <span class="op">%&gt;%</span></span>
<span id="cb90-2"><a href="filtrage-de-lignes.html#cb90-2"></a><span class="st">  </span><span class="kw">filter</span> (ptdepimp <span class="op">==</span><span class="st"> &quot;Nantes&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera             ownerb       
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;              &lt;chr&gt;        
## 1    30002     592   1709 Nantes   Duc de Bret~ Compagnie royale ~ &lt;NA&gt;         
## 2    30003     275   1709 Nantes   César        Garde, Pierre de ~ &lt;NA&gt;         
## 3    30015     316   1711 Nantes   Duc de Bret~ Bossinet, Jullien  &lt;NA&gt;         
## 4    30020     300   1713 Nantes   Luzançay     Montaudoin Delaun~ &lt;NA&gt;         
## 5    30022     316   1713 Nantes   Affriquain   Montaudoin*        Montaudouin,~
## 6    30903     611   1770 Nantes   Corisante    Montaudoin         Montaudoin (~</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="filtrage-de-lignes.html#cb92-1"></a>dataset <span class="op">%&gt;%</span></span>
<span id="cb92-2"><a href="filtrage-de-lignes.html#cb92-2"></a><span class="st">  </span><span class="kw">filter</span> (<span class="op">!</span>ptdepimp <span class="op">==</span><span class="st"> &quot;Nantes&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera         ownerb           
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;            
## 1    21561     459   1672 Le Havre &lt;NA&gt;         Compagnie des~ &lt;NA&gt;             
## 2    32465     105   1719 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;             
## 3    32726     144   1787 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;             
## 4    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etien~</code></pre>
<p>Il est possible d’effectuer un filtrage portant sur plusieurs valeurs textuelles en employant le signe de l’alternation <code>|</code>.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="filtrage-de-lignes.html#cb94-1"></a>dataset <span class="op">%&gt;%</span></span>
<span id="cb94-2"><a href="filtrage-de-lignes.html#cb94-2"></a><span class="st">  </span><span class="kw">filter</span> (ptdepimp <span class="op">==</span><span class="st"> &quot;Nantes&quot;</span> <span class="op">|</span><span class="st"> </span>ptdepimp <span class="op">==</span><span class="st">&quot;Bordeaux&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 7 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera         ownerb           
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;            
## 1    30002     592   1709 Nantes   Duc de Bret~ Compagnie roy~ &lt;NA&gt;             
## 2    30003     275   1709 Nantes   César        Garde, Pierre~ &lt;NA&gt;             
## 3    30015     316   1711 Nantes   Duc de Bret~ Bossinet, Jul~ &lt;NA&gt;             
## 4    30020     300   1713 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;             
## 5    30022     316   1713 Nantes   Affriquain   Montaudoin*    Montaudouin, Jac~
## 6    30903     611   1770 Nantes   Corisante    Montaudoin     Montaudoin (Frèr~
## 7    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etien~</code></pre>
</div>
<div id="filtrage-correspondance-partielle." class="section level4">
<h4><span class="header-section-number">5.1.1.2</span> Filtrage, correspondance partielle.</h4>
<p>Pour effectuer un filtrage “plein texte” c’est à dire non pas sur une chaîne de caractères exacte mais sur une chaîne de caractère partielle il est nécessaire d’utiliser la fonction <code>str_detect</code>issue du package <code>stringr</code>.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="filtrage-de-lignes.html#cb96-1"></a>dataset <span class="op">%&gt;%</span></span>
<span id="cb96-2"><a href="filtrage-de-lignes.html#cb96-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(shipname, <span class="st">&quot;Duc&quot;</span>))  <span class="co"># package stringr.</span></span></code></pre></div>
<pre><code>## # A tibble: 4 x 7
##   voyageid slaximp yearam ptdepimp shipname         ownera                ownerb
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;                 &lt;chr&gt; 
## 1    30002     592   1709 Nantes   Duc de Bretagne  Compagnie royale de ~ &lt;NA&gt;  
## 2    30015     316   1711 Nantes   Duc de Bretagne  Bossinet, Jullien     &lt;NA&gt;  
## 3    32465     105   1719 Le Havre Duc de Luxembou~ Compagnie du Sénégal  &lt;NA&gt;  
## 4    32726     144   1787 Le Havre Duc de Normandie Ruellan*              &lt;NA&gt;</code></pre>
<p>L’expression de la négation est similaire au filtrage portant sur une chaîne exacte.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="filtrage-de-lignes.html#cb98-1"></a>dataset <span class="op">%&gt;%</span></span>
<span id="cb98-2"><a href="filtrage-de-lignes.html#cb98-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">str_detect</span>(shipname, <span class="st">&quot;Bretagne&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 7 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera         ownerb           
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;            
## 1    30003     275   1709 Nantes   César        Garde, Pierre~ &lt;NA&gt;             
## 2    30020     300   1713 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;             
## 3    30022     316   1713 Nantes   Affriquain   Montaudoin*    Montaudouin, Jac~
## 4    30903     611   1770 Nantes   Corisante    Montaudoin     Montaudoin (Frèr~
## 5    32465     105   1719 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;             
## 6    32726     144   1787 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;             
## 7    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etien~</code></pre>
<p>La fonction <code>str_detect</code> permet d’effectuer des recherches portant sur des séquences de caractères litérales ou également des expression régulières qui étendent les possibilités de correspondance. Ainsi, le signe de l’alternation peut-être directement employé dans le motif de recherche.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="filtrage-de-lignes.html#cb100-1"></a>dataset <span class="op">%&gt;%</span></span>
<span id="cb100-2"><a href="filtrage-de-lignes.html#cb100-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(shipname, <span class="st">&quot;Bretagne|Normandie|Luxembourg&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 4 x 7
##   voyageid slaximp yearam ptdepimp shipname         ownera                ownerb
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;                 &lt;chr&gt; 
## 1    30002     592   1709 Nantes   Duc de Bretagne  Compagnie royale de ~ &lt;NA&gt;  
## 2    30015     316   1711 Nantes   Duc de Bretagne  Bossinet, Jullien     &lt;NA&gt;  
## 3    32465     105   1719 Le Havre Duc de Luxembou~ Compagnie du Sénégal  &lt;NA&gt;  
## 4    32726     144   1787 Le Havre Duc de Normandie Ruellan*              &lt;NA&gt;</code></pre>
</div>
</div>
<div id="filtrage-valeurs-numériques" class="section level3">
<h3><span class="header-section-number">5.1.2</span> Filtrage, valeurs numériques</h3>
<div id="filtrage-selon-une-valeur-numérique" class="section level4">
<h4><span class="header-section-number">5.1.2.1</span> Filtrage selon une valeur numérique</h4>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="filtrage-de-lignes.html#cb102-1"></a>demo &lt;-<span class="st"> </span>dataset <span class="op">%&gt;%</span></span>
<span id="cb102-2"><a href="filtrage-de-lignes.html#cb102-2"></a><span class="st">  </span><span class="kw">filter</span>(yearam <span class="op">==</span><span class="st"> </span><span class="dv">1709</span>)</span>
<span id="cb102-3"><a href="filtrage-de-lignes.html#cb102-3"></a></span>
<span id="cb102-4"><a href="filtrage-de-lignes.html#cb102-4"></a><span class="kw">print</span>(demo)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 7
##   voyageid slaximp yearam ptdepimp shipname       ownera                  ownerb
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;          &lt;chr&gt;                   &lt;chr&gt; 
## 1    30002     592   1709 Nantes   Duc de Bretag~ Compagnie royale de Gu~ &lt;NA&gt;  
## 2    30003     275   1709 Nantes   César          Garde, Pierre de la*    &lt;NA&gt;</code></pre>
</div>
<div id="filtrage-selon-un-intervalle-de-valeurs" class="section level4">
<h4><span class="header-section-number">5.1.2.2</span> Filtrage selon un intervalle de valeurs</h4>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="filtrage-de-lignes.html#cb104-1"></a>demo &lt;-<span class="st"> </span>dataset <span class="op">%&gt;%</span></span>
<span id="cb104-2"><a href="filtrage-de-lignes.html#cb104-2"></a><span class="st">  </span><span class="kw">filter</span>(slaximp <span class="op">&gt;=</span><span class="st"> </span><span class="dv">100</span> <span class="op">&amp;</span><span class="st"> </span>slaximp <span class="op">&lt;=</span><span class="st"> </span><span class="dv">300</span>)</span></code></pre></div>
</div>
</div>
<div id="filtrage-basé-sur-un-vecteur" class="section level3">
<h3><span class="header-section-number">5.1.3</span> Filtrage basé sur un vecteur</h3>
<p>La fonction <code>filter</code> supporte la vectorisation et simplifie le filtrage portant sur un grand nombre de valeurs.
On fait référence au vecteur avec l’opérateur <code>%in%</code>. Deux approches sont possibles. Le vecteur peut-être directement construit dans <code>filter</code> ou au préalable.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="filtrage-de-lignes.html#cb105-1"></a>dates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1709</span>, <span class="dv">1767</span>, <span class="dv">1686</span>) </span>
<span id="cb105-2"><a href="filtrage-de-lignes.html#cb105-2"></a></span>
<span id="cb105-3"><a href="filtrage-de-lignes.html#cb105-3"></a>demo&lt;-<span class="st"> </span>dataset <span class="op">%&gt;%</span></span>
<span id="cb105-4"><a href="filtrage-de-lignes.html#cb105-4"></a><span class="st">  </span><span class="kw">filter</span>(yearam <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1709</span>, <span class="dv">1767</span>, <span class="dv">1686</span>))</span></code></pre></div>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="filtrage-de-lignes.html#cb106-1"></a>dates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1709</span>, <span class="dv">1767</span>, <span class="dv">1686</span>) </span>
<span id="cb106-2"><a href="filtrage-de-lignes.html#cb106-2"></a></span>
<span id="cb106-3"><a href="filtrage-de-lignes.html#cb106-3"></a>demo&lt;-<span class="st"> </span>dataset <span class="op">%&gt;%</span></span>
<span id="cb106-4"><a href="filtrage-de-lignes.html#cb106-4"></a><span class="st">  </span><span class="kw">filter</span>(yearam <span class="op">%in%</span><span class="st"> </span>dates)</span></code></pre></div>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="filtrage-de-lignes.html#cb107-1"></a><span class="kw">print</span>(demo)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera        ownerb            
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;         &lt;chr&gt;             
## 1    30002     592   1709 Nantes   Duc de Bret~ Compagnie ro~ &lt;NA&gt;              
## 2    30003     275   1709 Nantes   César        Garde, Pierr~ &lt;NA&gt;              
## 3    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du~ Dhariette, Etienn~</code></pre>
</div>
<div id="filtrage-des-observations-manquantes" class="section level3">
<h3><span class="header-section-number">5.1.4</span> Filtrage des observations manquantes</h3>
<p>Pour filtrer les lignes vides, il existe deux syntaxes. vous pouvez annuler la fonction logique <code>is.na()</code> par le signe <code>!</code> ou vous pouvez utiliser la fonction <code>complete.cases</code>.
Les exemples ci-dessous ne conserverons que les lignes dont le nom du navire est connu.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="filtrage-de-lignes.html#cb109-1"></a>demo&lt;-<span class="st"> </span>dataset <span class="op">%&gt;%</span></span>
<span id="cb109-2"><a href="filtrage-de-lignes.html#cb109-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(shipname))</span></code></pre></div>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="filtrage-de-lignes.html#cb110-1"></a>demo&lt;-<span class="st"> </span>dataset <span class="op">%&gt;%</span></span>
<span id="cb110-2"><a href="filtrage-de-lignes.html#cb110-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(shipname))</span></code></pre></div>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="filtrage-de-lignes.html#cb111-1"></a><span class="kw">print</span>(demo)</span></code></pre></div>
<pre><code>## # A tibble: 9 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera         ownerb           
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;            
## 1    30002     592   1709 Nantes   Duc de Bret~ Compagnie roy~ &lt;NA&gt;             
## 2    30003     275   1709 Nantes   César        Garde, Pierre~ &lt;NA&gt;             
## 3    30015     316   1711 Nantes   Duc de Bret~ Bossinet, Jul~ &lt;NA&gt;             
## 4    30020     300   1713 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;             
## 5    30022     316   1713 Nantes   Affriquain   Montaudoin*    Montaudouin, Jac~
## 6    30903     611   1770 Nantes   Corisante    Montaudoin     Montaudoin (Frèr~
## 7    32465     105   1719 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;             
## 8    32726     144   1787 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;             
## 9    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etien~</code></pre>
</div>
</div>
<div id="filtrage-en-fonction-de-plusieurs-colonnes" class="section level2">
<h2><span class="header-section-number">5.2</span> Filtrage en fonction de plusieurs colonnes</h2>
<div id="utilisation-de-la-fonction-filter" class="section level3">
<h3><span class="header-section-number">5.2.1</span> Utilisation de la fonction filter</h3>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="filtrage-de-lignes.html#cb113-1"></a>demo &lt;-<span class="st"> </span>dataset <span class="op">%&gt;%</span></span>
<span id="cb113-2"><a href="filtrage-de-lignes.html#cb113-2"></a><span class="st">  </span><span class="kw">filter</span>(slaximp <span class="op">==</span><span class="st"> </span><span class="dv">100</span> <span class="op">&amp;</span><span class="st"> </span>ptdepimp <span class="op">==</span><span class="st"> &quot;Bordeaux&quot;</span>) </span></code></pre></div>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="filtrage-de-lignes.html#cb114-1"></a>demo &lt;-<span class="st"> </span>dataset <span class="op">%&gt;%</span></span>
<span id="cb114-2"><a href="filtrage-de-lignes.html#cb114-2"></a><span class="st">  </span><span class="kw">filter</span>(slaximp <span class="op">==</span><span class="st"> </span><span class="dv">100</span>) <span class="op">%&gt;%</span></span>
<span id="cb114-3"><a href="filtrage-de-lignes.html#cb114-3"></a><span class="st">  </span><span class="kw">filter</span> (ptdepimp <span class="op">==</span><span class="st"> &quot;Bordeaux&quot;</span>) </span></code></pre></div>
</div>
<div id="utilisation-de-la-fonction-filter_at" class="section level3">
<h3><span class="header-section-number">5.2.2</span> Utilisation de la fonction filter_at</h3>
<p>La fonction <code>filter_at</code> vous permet d’effectuer un filtrage sur des colonnes spécifiées par l’argument <code>vars()</code>. Le deuxième argument est la condition de sélection. vous pouvez utiliser <code>all_vars()</code>si toutes les colonnes doivent retourner VRAI (ET équivalent), ou <code>any_vars()</code>dans le cas où une seule variable doit retourner VRAI (OU équivalent).
Dans l’exemple ci-dessous nous cherchons à filtrer les expéditions dont les navires sont la propriétés de plusieurs <code>Montaudoin</code> (<code>ownera</code> et <code>ownerb</code>). Notez l’utilisation du signe <code>.</code>qui fait fait référence aux variables précédemment déclarés dans l’argument <code>vars()</code>.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="filtrage-de-lignes.html#cb115-1"></a>demo &lt;-<span class="st">  </span>dataset <span class="op">%&gt;%</span></span>
<span id="cb115-2"><a href="filtrage-de-lignes.html#cb115-2"></a><span class="st">  </span><span class="kw">filter_at</span>(<span class="kw">vars</span>(ownera<span class="op">:</span>ownerb), <span class="kw">any_vars</span>(<span class="kw">str_detect</span>(.,<span class="st">&quot;Montaudoin&quot;</span>)))</span>
<span id="cb115-3"><a href="filtrage-de-lignes.html#cb115-3"></a></span>
<span id="cb115-4"><a href="filtrage-de-lignes.html#cb115-4"></a><span class="kw">print</span>(demo)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 7
##   voyageid slaximp yearam ptdepimp shipname   ownera              ownerb        
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;               &lt;chr&gt;         
## 1    30020     300   1713 Nantes   Luzançay   Montaudoin Delauna~ &lt;NA&gt;          
## 2    30022     316   1713 Nantes   Affriquain Montaudoin*         Montaudouin, ~
## 3    30903     611   1770 Nantes   Corisante  Montaudoin          Montaudoin (F~</code></pre>
</div>
</div>
<div id="exemples" class="section level2">
<h2><span class="header-section-number">5.3</span> Exemples</h2>
<div id="femmes-propriétaires-de-navires-nantais-armés-pour-la-traite-atlantique" class="section level3">
<h3><span class="header-section-number">5.3.1</span> Femmes propriétaires de navires nantais armés pour la traite atlantique</h3>
<p>Nous stockons dans le tableau <code>ntes</code> une déclinaison du tableau de données <code>voyages</code>.
Il s’agit de ne conserver que les expéditions au départ de Nantes et de positionner les colonnes correspondants aux propriétaires parmi les premières colonnes afin de faciliter la lecture directe des données.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="filtrage-de-lignes.html#cb117-1"></a>ntes &lt;-<span class="st">  </span>voyages <span class="op">%&gt;%</span></span>
<span id="cb117-2"><a href="filtrage-de-lignes.html#cb117-2"></a><span class="st">  </span><span class="kw">filter</span>(ptdepimp <span class="op">==</span><span class="st"> &quot;Nantes&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb117-3"><a href="filtrage-de-lignes.html#cb117-3"></a><span class="st">  </span><span class="kw">select</span>(voyageid, shipname, ptdepimp, yeardep, ownera<span class="op">:</span>ownerd) </span></code></pre></div>
<p>Une observation directe des données nous permet de constater que, bien que les prénoms des hommes sont communément mentionnés, ceux des femmes n’apparaissent pas. Pour autant plusieurs noms de propriétaires suivis de l’abréviation (Vve) attirent notre attention. Il s’agit de veuves que l’on retrouve fréquemment associées à leurs fils</p>
<table>
<thead>
<tr class="header">
<th align="right">voyageid</th>
<th align="left">shipname</th>
<th align="left">ptdepimp</th>
<th align="right">yeardep</th>
<th align="left">ownera</th>
<th align="left">ownerb</th>
<th align="left">ownerc</th>
<th align="left">ownerd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">119</td>
<td align="left">Aimable Henriette</td>
<td align="left">Nantes</td>
<td align="right">1821</td>
<td align="left">Chardonneau, Richard</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="right">121</td>
<td align="left">Aurore</td>
<td align="left">Nantes</td>
<td align="right">1820</td>
<td align="left">Lepertière</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="right">344</td>
<td align="left">Aimable Henriette</td>
<td align="left">Nantes</td>
<td align="right">1822</td>
<td align="left">Chardonneau, Frédéric</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="right">345</td>
<td align="left">Marie</td>
<td align="left">Nantes</td>
<td align="right">1822</td>
<td align="left">Dennis, Pierre-Thomas</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="right">2860</td>
<td align="left">Louise</td>
<td align="left">Nantes</td>
<td align="right">1829</td>
<td align="left">Landaluze (Vve)</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="right">30202</td>
<td align="left">Monarque</td>
<td align="left">Nantes</td>
<td align="right">1727</td>
<td align="left">Bertrand (Vve)</td>
<td align="left">Bertrand (Fils)*</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<p>Vous pouvez donc filtrer les lignes correspondants aux veuves comme <code>ownera</code> ou <code>ownerb</code> en utilisant la fonction <code>str_detect</code> (le signe <code>|</code> correspondant à l’opérateur logique OU).</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="filtrage-de-lignes.html#cb118-1"></a>ntes_vves &lt;-<span class="st">  </span>voyages <span class="op">%&gt;%</span></span>
<span id="cb118-2"><a href="filtrage-de-lignes.html#cb118-2"></a><span class="st">  </span><span class="kw">filter</span>(ptdepimp <span class="op">==</span><span class="st"> &quot;Nantes&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb118-3"><a href="filtrage-de-lignes.html#cb118-3"></a><span class="st">  </span><span class="kw">select</span>(voyageid, shipname, ptdepimp, yeardep, ownera<span class="op">:</span>ownerd) <span class="op">%&gt;%</span></span>
<span id="cb118-4"><a href="filtrage-de-lignes.html#cb118-4"></a><span class="st">  </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(ownera, <span class="st">&quot;Vve&quot;</span>) <span class="op">|</span><span class="st"> </span><span class="kw">str_detect</span>(ownerb, <span class="st">&quot;Vve&quot;</span>) <span class="op">|</span><span class="st"> </span><span class="kw">str_detect</span>(ownerc, <span class="st">&quot;Vve&quot;</span>))</span></code></pre></div>
<p>La participation des femmes au commerce maritime ne concerne pas uniquement les veuves. Des femmes mariées y participent travaillant avec leur époux ou en exerçant le commerce à leur compte. ainsi une lecture plus attentive permet de repérer la précision (Dame) pour l’un des propriétaires de l’expédition 30362.</p>
<table>
<thead>
<tr class="header">
<th align="right">voyageid</th>
<th align="left">shipname</th>
<th align="left">ptdepimp</th>
<th align="right">yeardep</th>
<th align="left">ownera</th>
<th align="left">ownerb</th>
<th align="left">ownerc</th>
<th align="left">ownerd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">30362</td>
<td align="left">Saint René</td>
<td align="left">Nantes</td>
<td align="right">1739</td>
<td align="left">Bertrand (Dame)</td>
<td align="left">Bertrand (Fils)*</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<p>Vous pouvez, par conséquent, compléter chaque motif de recherche <code>Vve</code>par l’alternative <code>Dame</code>.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="filtrage-de-lignes.html#cb119-1"></a>ntes_femmes1 &lt;-<span class="st">  </span>voyages <span class="op">%&gt;%</span></span>
<span id="cb119-2"><a href="filtrage-de-lignes.html#cb119-2"></a><span class="st">  </span><span class="kw">filter</span>(ptdepimp <span class="op">==</span><span class="st"> &quot;Nantes&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb119-3"><a href="filtrage-de-lignes.html#cb119-3"></a><span class="st">  </span><span class="kw">select</span>(voyageid, shipname, ptdepimp, yeardep, ownera<span class="op">:</span>ownerd) <span class="op">%&gt;%</span></span>
<span id="cb119-4"><a href="filtrage-de-lignes.html#cb119-4"></a><span class="st">  </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(ownera, <span class="st">&quot;Vve|Dame&quot;</span>) <span class="op">|</span><span class="st"> </span><span class="kw">str_detect</span>(ownerb, <span class="st">&quot;Vve|Dame&quot;</span>) <span class="op">|</span><span class="st"> </span><span class="kw">str_detect</span>(ownerc, <span class="st">&quot;Vve|Dame&quot;</span>))</span></code></pre></div>
<p>Enfin, une autre approche est également possible en faisant appel à la fonction <code>filter_at</code>.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="filtrage-de-lignes.html#cb120-1"></a>  ntes_femmes2 &lt;-<span class="st">  </span>voyages <span class="op">%&gt;%</span></span>
<span id="cb120-2"><a href="filtrage-de-lignes.html#cb120-2"></a><span class="st">  </span><span class="kw">filter</span>(ptdepimp <span class="op">==</span><span class="st"> &quot;Nantes&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb120-3"><a href="filtrage-de-lignes.html#cb120-3"></a><span class="st">  </span><span class="kw">select</span>(voyageid, shipname, ptdepimp, yeardep, ownera<span class="op">:</span>ownerd) <span class="op">%&gt;%</span></span>
<span id="cb120-4"><a href="filtrage-de-lignes.html#cb120-4"></a><span class="st">  </span><span class="kw">filter_at</span>(<span class="kw">vars</span>(ownera<span class="op">:</span>ownerd), <span class="kw">any_vars</span>(<span class="kw">str_detect</span>(.,<span class="st">&quot;Vve|Dame&quot;</span>)))</span></code></pre></div>
<p>Référence :
Nicole Dufournaud et Bernard Michon, « Les femmes et le commerce maritime à Nantes (1660-1740) : un rôle largement méconnu », Clio. Histoire‚ femmes et sociétés [En ligne], 23 | 2006, mis en ligne le 01 juin 2008, consulté le 30 mars 2020. URL : <a href="http://journals.openedition.org/clio/1926" class="uri">http://journals.openedition.org/clio/1926</a> ; DOI : <a href="https://doi.org/10.4000/clio.1926" class="uri">https://doi.org/10.4000/clio.1926</a></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ordonner-les-lignes-en-fonction-des-colonnes.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="methods.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["RunH.pdf", "RunH.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
