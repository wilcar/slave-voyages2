<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre3 Manipulation des données | Explorer la Trans-Atlantic Slave trade Database avec R</title>
  <meta name="description" content="Chapitre3 Manipulation des données | Explorer la Trans-Atlantic Slave trade Database avec R" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre3 Manipulation des données | Explorer la Trans-Atlantic Slave trade Database avec R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre3 Manipulation des données | Explorer la Trans-Atlantic Slave trade Database avec R" />
  
  
  

<meta name="author" content="Wilfrid Cariou" />


<meta name="date" content="2020-04-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="inventaire-des-données.html"/>
<link rel="next" href="chronologies.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Explorer la TASTDb avec R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="prise-en-main.html"><a href="prise-en-main.html"><i class="fa fa-check"></i><b>1</b> Prise en main</a><ul>
<li class="chapter" data-level="1.1" data-path="prise-en-main.html"><a href="prise-en-main.html#installation"><i class="fa fa-check"></i><b>1.1</b> Installation</a><ul>
<li class="chapter" data-level="1.1.1" data-path="prise-en-main.html"><a href="prise-en-main.html#installer-r"><i class="fa fa-check"></i><b>1.1.1</b> Installer R</a></li>
<li class="chapter" data-level="1.1.2" data-path="prise-en-main.html"><a href="prise-en-main.html#installer-rstudio"><i class="fa fa-check"></i><b>1.1.2</b> Installer RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="prise-en-main.html"><a href="prise-en-main.html#evolutivité"><i class="fa fa-check"></i><b>1.2</b> Evolutivité</a></li>
<li class="chapter" data-level="1.3" data-path="prise-en-main.html"><a href="prise-en-main.html#interface"><i class="fa fa-check"></i><b>1.3</b> Interface</a><ul>
<li class="chapter" data-level="1.3.1" data-path="prise-en-main.html"><a href="prise-en-main.html#quelques-repères-indispensables-pour-débuter"><i class="fa fa-check"></i><b>1.3.1</b> Quelques repères indispensables pour débuter</a></li>
<li class="chapter" data-level="1.3.2" data-path="prise-en-main.html"><a href="prise-en-main.html#organiser-ses-fichiers-dans-un-projet"><i class="fa fa-check"></i><b>1.3.2</b> Organiser ses fichiers dans un projet</a></li>
<li class="chapter" data-level="1.3.3" data-path="prise-en-main.html"><a href="prise-en-main.html#console-et-scripts"><i class="fa fa-check"></i><b>1.3.3</b> Console et scripts</a><ul>
<li class="chapter" data-level="1.3.3.1" data-path="prise-en-main.html"><a href="prise-en-main.html#comment-saisir-une-instruction-dans-la-console"><i class="fa fa-check"></i><b>1.3.3.1</b> Comment saisir une instruction dans la console ?</a></li>
<li class="chapter" data-level="1.3.3.2" data-path="prise-en-main.html"><a href="prise-en-main.html#comment-saisir-une-instruction-dans-un-script"><i class="fa fa-check"></i><b>1.3.3.2</b> Comment saisir une instruction dans un script ?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="prise-en-main.html"><a href="prise-en-main.html#lecture-des-données"><i class="fa fa-check"></i><b>1.4</b> Lecture des données</a></li>
<li class="chapter" data-level="1.5" data-path="prise-en-main.html"><a href="prise-en-main.html#quelques-bases-du-langage"><i class="fa fa-check"></i><b>1.5</b> Quelques bases du langage</a><ul>
<li class="chapter" data-level="1.5.1" data-path="prise-en-main.html"><a href="prise-en-main.html#des-instructions-simples-les-expressions-arithmétiques"><i class="fa fa-check"></i><b>1.5.1</b> Des instructions simples, les expressions arithmétiques</a></li>
<li class="chapter" data-level="1.5.2" data-path="prise-en-main.html"><a href="prise-en-main.html#les-variables"><i class="fa fa-check"></i><b>1.5.2</b> Les variables</a><ul>
<li class="chapter" data-level="1.5.2.1" data-path="prise-en-main.html"><a href="prise-en-main.html#afficher-le-contenu-dune-variable"><i class="fa fa-check"></i><b>1.5.2.1</b> Afficher le contenu d’une variable</a></li>
<li class="chapter" data-level="1.5.2.2" data-path="prise-en-main.html"><a href="prise-en-main.html#supprimer-une-variable"><i class="fa fa-check"></i><b>1.5.2.2</b> Supprimer une variable</a></li>
<li class="chapter" data-level="1.5.2.3" data-path="prise-en-main.html"><a href="prise-en-main.html#réaffecter-une-valeur-à-une-variable"><i class="fa fa-check"></i><b>1.5.2.3</b> Réaffecter une valeur à une variable</a></li>
<li class="chapter" data-level="1.5.2.4" data-path="prise-en-main.html"><a href="prise-en-main.html#exemple-de-séquence-dinstructions"><i class="fa fa-check"></i><b>1.5.2.4</b> Exemple de séquence d’instructions</a></li>
</ul></li>
<li class="chapter" data-level="1.5.3" data-path="prise-en-main.html"><a href="prise-en-main.html#les-vecteurs"><i class="fa fa-check"></i><b>1.5.3</b> Les vecteurs</a></li>
<li class="chapter" data-level="1.5.4" data-path="prise-en-main.html"><a href="prise-en-main.html#les-fonctions"><i class="fa fa-check"></i><b>1.5.4</b> Les fonctions</a><ul>
<li class="chapter" data-level="1.5.4.1" data-path="prise-en-main.html"><a href="prise-en-main.html#découvrir-les-fonctions"><i class="fa fa-check"></i><b>1.5.4.1</b> Découvrir les fonctions</a></li>
<li class="chapter" data-level="1.5.4.2" data-path="prise-en-main.html"><a href="prise-en-main.html#découvrir-quelques-fonctions-existantes-de-r-base"><i class="fa fa-check"></i><b>1.5.4.2</b> Découvrir quelques fonctions existantes de R Base</a></li>
<li class="chapter" data-level="1.5.4.3" data-path="prise-en-main.html"><a href="prise-en-main.html#imbriquer-des-fonctions"><i class="fa fa-check"></i><b>1.5.4.3</b> Imbriquer des fonctions</a></li>
</ul></li>
<li class="chapter" data-level="1.5.5" data-path="prise-en-main.html"><a href="prise-en-main.html#règles-et-conventions-de-syntaxe"><i class="fa fa-check"></i><b>1.5.5</b> Règles et conventions de syntaxe</a><ul>
<li class="chapter" data-level="1.5.5.1" data-path="prise-en-main.html"><a href="prise-en-main.html#déclaration"><i class="fa fa-check"></i><b>1.5.5.1</b> Déclaration</a></li>
<li class="chapter" data-level="1.5.5.2" data-path="prise-en-main.html"><a href="prise-en-main.html#conventions-de-déclaration"><i class="fa fa-check"></i><b>1.5.5.2</b> Conventions de déclaration</a></li>
<li class="chapter" data-level="1.5.5.3" data-path="prise-en-main.html"><a href="prise-en-main.html#conventions-de-style"><i class="fa fa-check"></i><b>1.5.5.3</b> Conventions de style</a></li>
</ul></li>
<li class="chapter" data-level="1.5.6" data-path="prise-en-main.html"><a href="prise-en-main.html#commenter-ses-instructions"><i class="fa fa-check"></i><b>1.5.6</b> Commenter ses instructions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="inventaire-des-données.html"><a href="inventaire-des-données.html"><i class="fa fa-check"></i><b>2</b> Inventaire des données</a><ul>
<li class="chapter" data-level="2.1" data-path="inventaire-des-données.html"><a href="inventaire-des-données.html#inspection-visuelle-des-données"><i class="fa fa-check"></i><b>2.1</b> Inspection visuelle des données</a></li>
<li class="chapter" data-level="2.2" data-path="inventaire-des-données.html"><a href="inventaire-des-données.html#structure-des-données"><i class="fa fa-check"></i><b>2.2</b> Structure des données</a><ul>
<li class="chapter" data-level="2.2.1" data-path="inventaire-des-données.html"><a href="inventaire-des-données.html#voyages-un-objet-de-type-tibble"><i class="fa fa-check"></i><b>2.2.1</b> Voyages, un objet de type Tibble</a></li>
<li class="chapter" data-level="2.2.2" data-path="inventaire-des-données.html"><a href="inventaire-des-données.html#les-variables-1"><i class="fa fa-check"></i><b>2.2.2</b> Les variables</a><ul>
<li class="chapter" data-level="2.2.2.1" data-path="inventaire-des-données.html"><a href="inventaire-des-données.html#lister-les-en-têtes-variables-names"><i class="fa fa-check"></i><b>2.2.2.1</b> Lister les en-têtes (<em>variables names</em>)</a></li>
<li class="chapter" data-level="2.2.2.2" data-path="inventaire-des-données.html"><a href="inventaire-des-données.html#types-de-variables"><i class="fa fa-check"></i><b>2.2.2.2</b> Types de variables</a></li>
<li class="chapter" data-level="2.2.2.3" data-path="inventaire-des-données.html"><a href="inventaire-des-données.html#valeurs-disponibles-pour-chaque-variable"><i class="fa fa-check"></i><b>2.2.2.3</b> Valeurs disponibles pour chaque variable</a></li>
</ul></li>
<li class="chapter" data-level="2.2.3" data-path="inventaire-des-données.html"><a href="inventaire-des-données.html#visualiser-les-valeurs-uniques-dune-variable"><i class="fa fa-check"></i><b>2.2.3</b> Visualiser les valeurs uniques d’une variable</a></li>
<li class="chapter" data-level="2.2.4" data-path="inventaire-des-données.html"><a href="inventaire-des-données.html#dénombrer-le-nombre-de-valeurs-uniques-dune-variable"><i class="fa fa-check"></i><b>2.2.4</b> Dénombrer le nombre de valeurs uniques d’une variable</a></li>
<li class="chapter" data-level="2.2.5" data-path="inventaire-des-données.html"><a href="inventaire-des-données.html#dénombrer-le-nombre-de-na-dune-variable"><i class="fa fa-check"></i><b>2.2.5</b> Dénombrer le nombre de NA d’une variable</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="inventaire-des-données.html"><a href="inventaire-des-données.html#expéditions-ajoutées-à-lédition-2019-de-la-base-trans-atlantic-slave-trade-dabase"><i class="fa fa-check"></i><b>2.3</b> Expéditions ajoutées à l’édition 2019 de la base Trans Atlantic slave trade Dabase</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html"><i class="fa fa-check"></i><b>3</b> Manipulation des données</a><ul>
<li class="chapter" data-level="3.1" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#préalables"><i class="fa fa-check"></i><b>3.1</b> Préalables</a><ul>
<li class="chapter" data-level="3.1.1" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#tidyverse"><i class="fa fa-check"></i><b>3.1.1</b> Tidyverse</a></li>
<li class="chapter" data-level="3.1.2" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#appel-des-packages"><i class="fa fa-check"></i><b>3.1.2</b> Appel des packages</a></li>
<li class="chapter" data-level="3.1.3" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#mini-jeu-de-données-utilisé-comme-exemple"><i class="fa fa-check"></i><b>3.1.3</b> Mini-jeu de données utilisé comme exemple</a><ul>
<li class="chapter" data-level="3.1.3.1" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#visualisation-sou-la-forme-de-table-html"><i class="fa fa-check"></i><b>3.1.3.1</b> Visualisation sou la forme de table html</a></li>
<li class="chapter" data-level="3.1.3.2" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#visualisation-sou-la-forme-de-table-brute"><i class="fa fa-check"></i><b>3.1.3.2</b> Visualisation sou la forme de table brute</a></li>
</ul></li>
<li class="chapter" data-level="3.1.4" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#lopérateur-piping-operator"><i class="fa fa-check"></i><b>3.1.4</b> L’opérateur %&gt;% (piping operator)</a></li>
<li class="chapter" data-level="3.1.5" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#références"><i class="fa fa-check"></i><b>3.1.5</b> Références</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#sélectionner-des-colonnes"><i class="fa fa-check"></i><b>3.2</b> Sélectionner des colonnes</a><ul>
<li class="chapter" data-level="3.2.1" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#opérations-courantes"><i class="fa fa-check"></i><b>3.2.1</b> Opérations courantes</a><ul>
<li class="chapter" data-level="3.2.1.1" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#sélection-dune-colonne-repérée-par-son-nom"><i class="fa fa-check"></i><b>3.2.1.1</b> Sélection d’une colonne repérée par son nom</a></li>
<li class="chapter" data-level="3.2.1.2" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#sélection-dune-colonne-repérée-par-sa-position-dindex"><i class="fa fa-check"></i><b>3.2.1.2</b> Sélection d’une colonne repérée par sa position d’index</a></li>
<li class="chapter" data-level="3.2.1.3" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#sélection-de-colonnes-multiples-noms-de-variables"><i class="fa fa-check"></i><b>3.2.1.3</b> Sélection de colonnes multiples (noms de variables)</a></li>
<li class="chapter" data-level="3.2.1.4" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#sélection-de-colonnes-multiples-position-dindex"><i class="fa fa-check"></i><b>3.2.1.4</b> Sélection de colonnes multiples (position d’index)</a></li>
<li class="chapter" data-level="3.2.1.5" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#sélection-de-colonnes-contiguës"><i class="fa fa-check"></i><b>3.2.1.5</b> Sélection de colonnes contiguës</a></li>
<li class="chapter" data-level="3.2.1.6" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#sélection-par-exclusion"><i class="fa fa-check"></i><b>3.2.1.6</b> Sélection par exclusion</a></li>
<li class="chapter" data-level="3.2.1.7" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#compléter-une-sélection-par-les-colonnes-non-encore-sélectionnées"><i class="fa fa-check"></i><b>3.2.1.7</b> Compléter une sélection par les colonnes non encore sélectionnées</a></li>
</ul></li>
<li class="chapter" data-level="3.2.2" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#opérations-particulières"><i class="fa fa-check"></i><b>3.2.2</b> Opérations particulières</a><ul>
<li class="chapter" data-level="3.2.2.1" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#ré-agencer-des-colonnes-alphabétiquement"><i class="fa fa-check"></i><b>3.2.2.1</b> Ré-agencer des colonnes alphabétiquement</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#ordonner-les-lignes-en-fonction-des-colonnes"><i class="fa fa-check"></i><b>3.3</b> Ordonner les lignes en fonction des colonnes</a><ul>
<li class="chapter" data-level="3.3.1" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#tri-à-partir-dune-colonne-unique"><i class="fa fa-check"></i><b>3.3.1</b> Tri à partir d’une colonne unique</a><ul>
<li class="chapter" data-level="3.3.1.1" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#tri-ascendant"><i class="fa fa-check"></i><b>3.3.1.1</b> Tri ascendant</a></li>
<li class="chapter" data-level="3.3.1.2" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#tri-descendant"><i class="fa fa-check"></i><b>3.3.1.2</b> Tri descendant</a></li>
</ul></li>
<li class="chapter" data-level="3.3.2" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#tri-selon-plusieurs-colonnes"><i class="fa fa-check"></i><b>3.3.2</b> Tri selon plusieurs colonnes</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#filtrage-de-lignes"><i class="fa fa-check"></i><b>3.4</b> Filtrage de lignes</a><ul>
<li class="chapter" data-level="3.4.1" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#filtrage-en-fonction-dune-colonne"><i class="fa fa-check"></i><b>3.4.1</b> Filtrage en fonction d’une colonne</a><ul>
<li class="chapter" data-level="3.4.1.1" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#filtrage-portant-sur-des-données-textuelles"><i class="fa fa-check"></i><b>3.4.1.1</b> Filtrage portant sur des données textuelles</a></li>
<li class="chapter" data-level="3.4.1.2" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#filtrage-valeurs-numériques"><i class="fa fa-check"></i><b>3.4.1.2</b> Filtrage, valeurs numériques</a></li>
<li class="chapter" data-level="3.4.1.3" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#filtrage-basé-sur-un-vecteur"><i class="fa fa-check"></i><b>3.4.1.3</b> Filtrage basé sur un vecteur</a></li>
<li class="chapter" data-level="3.4.1.4" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#filtrage-des-observations-manquantes"><i class="fa fa-check"></i><b>3.4.1.4</b> Filtrage des observations manquantes</a></li>
</ul></li>
<li class="chapter" data-level="3.4.2" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#filtrage-en-fonction-de-plusieurs-colonnes"><i class="fa fa-check"></i><b>3.4.2</b> Filtrage en fonction de plusieurs colonnes</a><ul>
<li class="chapter" data-level="3.4.2.1" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#utilisation-de-la-fonction-filter"><i class="fa fa-check"></i><b>3.4.2.1</b> Utilisation de la fonction filter</a></li>
<li class="chapter" data-level="3.4.2.2" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#utilisation-de-la-fonction-filter_at"><i class="fa fa-check"></i><b>3.4.2.2</b> Utilisation de la fonction filter_at</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#exemples"><i class="fa fa-check"></i><b>3.5</b> Exemples</a><ul>
<li class="chapter" data-level="3.5.1" data-path="manipulation-des-données.html"><a href="manipulation-des-données.html#femmes-propriétaires-de-navires-nantais-armés-pour-la-traite-atlantique"><i class="fa fa-check"></i><b>3.5.1</b> Femmes propriétaires de navires nantais armés pour la traite atlantique</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chronologies.html"><a href="chronologies.html"><i class="fa fa-check"></i><b>4</b> Chronologies</a><ul>
<li class="chapter" data-level="4.1" data-path="chronologies.html"><a href="chronologies.html#préalables-1"><i class="fa fa-check"></i><b>4.1</b> Préalables</a><ul>
<li class="chapter" data-level="4.1.1" data-path="chronologies.html"><a href="chronologies.html#packages"><i class="fa fa-check"></i><b>4.1.1</b> Packages</a></li>
<li class="chapter" data-level="4.1.2" data-path="chronologies.html"><a href="chronologies.html#thème-personnalisé-gpglot2"><i class="fa fa-check"></i><b>4.1.2</b> Thème personnalisé gpglot2</a><ul>
<li class="chapter" data-level="4.1.2.1" data-path="chronologies.html"><a href="chronologies.html#tidyverse-1"><i class="fa fa-check"></i><b>4.1.2.1</b> Tidyverse</a></li>
<li class="chapter" data-level="4.1.2.2" data-path="chronologies.html"><a href="chronologies.html#autres-packages"><i class="fa fa-check"></i><b>4.1.2.2</b> Autres packages</a></li>
<li class="chapter" data-level="4.1.2.3" data-path="chronologies.html"><a href="chronologies.html#appel-des-packages-1"><i class="fa fa-check"></i><b>4.1.2.3</b> Appel des packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="chronologies.html"><a href="chronologies.html#chronologie-globale-de-la-traite"><i class="fa fa-check"></i><b>4.2</b> Chronologie globale de la traite</a><ul>
<li class="chapter" data-level="4.2.1" data-path="chronologies.html"><a href="chronologies.html#bornes-chronologiques-et-durée-de-la-traite"><i class="fa fa-check"></i><b>4.2.1</b> Bornes chronologiques et durée de la traite</a></li>
<li class="chapter" data-level="4.2.2" data-path="chronologies.html"><a href="chronologies.html#expéditions-de-traite"><i class="fa fa-check"></i><b>4.2.2</b> Expéditions de traite</a><ul>
<li class="chapter" data-level="4.2.2.1" data-path="chronologies.html"><a href="chronologies.html#tableau-deffectifs"><i class="fa fa-check"></i><b>4.2.2.1</b> Tableau d’effectifs</a></li>
<li class="chapter" data-level="4.2.2.2" data-path="chronologies.html"><a href="chronologies.html#nombre-moyen-dexpéditions-par-années"><i class="fa fa-check"></i><b>4.2.2.2</b> Nombre moyen d’expéditions par années</a></li>
<li class="chapter" data-level="4.2.2.3" data-path="chronologies.html"><a href="chronologies.html#dix-années-comportant-le-plus-grand-nombre-dexpéditions"><i class="fa fa-check"></i><b>4.2.2.3</b> Dix années comportant le plus grand nombre d’expéditions</a></li>
</ul></li>
<li class="chapter" data-level="4.2.3" data-path="chronologies.html"><a href="chronologies.html#esclaves-embarqués-par-années"><i class="fa fa-check"></i><b>4.2.3</b> Esclaves embarqués par années</a></li>
<li class="chapter" data-level="4.2.4" data-path="chronologies.html"><a href="chronologies.html#représentations-graphiques"><i class="fa fa-check"></i><b>4.2.4</b> Représentations graphiques</a><ul>
<li class="chapter" data-level="4.2.4.1" data-path="chronologies.html"><a href="chronologies.html#représentation-graphique-en-base-r"><i class="fa fa-check"></i><b>4.2.4.1</b> Représentation graphique en base R</a></li>
<li class="chapter" data-level="4.2.4.2" data-path="chronologies.html"><a href="chronologies.html#représentations-avancées-ggplot2"><i class="fa fa-check"></i><b>4.2.4.2</b> Représentations avancées (ggplot2)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="chronologies.html"><a href="chronologies.html#chronologies-comparatives-de-la-traite"><i class="fa fa-check"></i><b>4.3</b> Chronologies comparatives de la traite</a><ul>
<li class="chapter" data-level="4.3.1" data-path="chronologies.html"><a href="chronologies.html#chronologie-des-expéditions-en-fonction-des-pavillons-de-navires"><i class="fa fa-check"></i><b>4.3.1</b> Chronologie des expéditions en fonction des pavillons de navires</a><ul>
<li class="chapter" data-level="4.3.1.1" data-path="chronologies.html"><a href="chronologies.html#tableaux"><i class="fa fa-check"></i><b>4.3.1.1</b> Tableaux</a></li>
<li class="chapter" data-level="4.3.1.2" data-path="chronologies.html"><a href="chronologies.html#représentations-graphiques-1"><i class="fa fa-check"></i><b>4.3.1.2</b> Représentations graphiques</a></li>
<li class="chapter" data-level="4.3.1.3" data-path="chronologies.html"><a href="chronologies.html#représentations-graphiques-avancées-ggplot2"><i class="fa fa-check"></i><b>4.3.1.3</b> Représentations graphiques avancées (ggplot2)</a></li>
<li class="chapter" data-level="4.3.1.4" data-path="chronologies.html"><a href="chronologies.html#chronologie-comparative-des-expéditions-de-traite-en-fonction-des-ports-de-départs"><i class="fa fa-check"></i><b>4.3.1.4</b> Chronologie comparative des expéditions de traite en fonction des ports de départs</a></li>
<li class="chapter" data-level="4.3.1.5" data-path="chronologies.html"><a href="chronologies.html#chronologie-darrivée-des-navires-principaux-lieux-dachat-desclaves"><i class="fa fa-check"></i><b>4.3.1.5</b> Chronologie d’arrivée des navires, principaux lieux d’achat d’esclaves</a></li>
<li class="chapter" data-level="4.3.1.6" data-path="chronologies.html"><a href="chronologies.html#prise-en-considération-des-années-pour-lesquelles-des-mentions-dexpéditions-de-traite-sont-absentes."><i class="fa fa-check"></i><b>4.3.1.6</b> Prise en considération des années pour lesquelles des mentions d’expéditions de traite sont absentes.</a></li>
<li class="chapter" data-level="4.3.1.7" data-path="chronologies.html"><a href="chronologies.html#tableau-chronologique-des-expéditions-de-traite-incluant-les-années-sans-observations"><i class="fa fa-check"></i><b>4.3.1.7</b> Tableau chronologique des expéditions de traite incluant les années sans observations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="chronologies.html"><a href="chronologies.html#exemples-1"><i class="fa fa-check"></i><b>4.4</b> Exemples</a><ul>
<li class="chapter" data-level="4.4.1" data-path="chronologies.html"><a href="chronologies.html#chronologie-des-expéditions-de-traite-à-destination-de-saint-domingue"><i class="fa fa-check"></i><b>4.4.1</b> Chronologie des expéditions de traite à destination de Saint-Domingue</a><ul>
<li class="chapter" data-level="4.4.1.1" data-path="chronologies.html"><a href="chronologies.html#tableau-deffectifs-1"><i class="fa fa-check"></i><b>4.4.1.1</b> Tableau d’effectifs</a></li>
<li class="chapter" data-level="4.4.1.2" data-path="chronologies.html"><a href="chronologies.html#représentation-graphique"><i class="fa fa-check"></i><b>4.4.1.2</b> Représentation graphique</a></li>
</ul></li>
<li class="chapter" data-level="4.4.2" data-path="chronologies.html"><a href="chronologies.html#nombre-desclaves-embarqués-par-années-à-destination-de-saint-domingue"><i class="fa fa-check"></i><b>4.4.2</b> Nombre d’esclaves embarqués par années à destination de Saint-Domingue</a><ul>
<li class="chapter" data-level="4.4.2.1" data-path="chronologies.html"><a href="chronologies.html#tableau"><i class="fa fa-check"></i><b>4.4.2.1</b> Tableau</a></li>
<li class="chapter" data-level="4.4.2.2" data-path="chronologies.html"><a href="chronologies.html#représentation-graphique-1"><i class="fa fa-check"></i><b>4.4.2.2</b> Représentation graphique</a></li>
</ul></li>
<li class="chapter" data-level="4.4.3" data-path="chronologies.html"><a href="chronologies.html#chronologie-décennale-des-expéditions-de-traite-à-destination-de-saint-domingue-selon-les-ports-de-départ"><i class="fa fa-check"></i><b>4.4.3</b> Chronologie décennale des expéditions de traite à destination de Saint-Domingue selon les ports de départ</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="cartographie.html"><a href="cartographie.html"><i class="fa fa-check"></i><b>5</b> Cartographie</a><ul>
<li class="chapter" data-level="5.1" data-path="cartographie.html"><a href="cartographie.html#préalables-2"><i class="fa fa-check"></i><b>5.1</b> Préalables</a><ul>
<li class="chapter" data-level="5.1.1" data-path="cartographie.html"><a href="cartographie.html#packages-1"><i class="fa fa-check"></i><b>5.1.1</b> Packages</a></li>
<li class="chapter" data-level="5.1.2" data-path="cartographie.html"><a href="cartographie.html#importation-des-données"><i class="fa fa-check"></i><b>5.1.2</b> Importation des données</a><ul>
<li class="chapter" data-level="5.1.2.1" data-path="cartographie.html"><a href="cartographie.html#fond-de-carte-statique-rattaché-au-package-tmap"><i class="fa fa-check"></i><b>5.1.2.1</b> Fond de carte statique rattaché au package tmap</a></li>
<li class="chapter" data-level="5.1.2.2" data-path="cartographie.html"><a href="cartographie.html#données-géoréférencées-des-bases-trans-atlantic-slave-et-inter-american-slave-trade"><i class="fa fa-check"></i><b>5.1.2.2</b> Données géoréférencées des bases Trans Atlantic slave et Inter American slave trade</a></li>
</ul></li>
<li class="chapter" data-level="5.1.3" data-path="cartographie.html"><a href="cartographie.html#références-1"><i class="fa fa-check"></i><b>5.1.3</b> Références</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="cartographie.html"><a href="cartographie.html#lieux-de-la-traite"><i class="fa fa-check"></i><b>5.2</b> Lieux de la traite</a><ul>
<li class="chapter" data-level="5.2.1" data-path="cartographie.html"><a href="cartographie.html#tmap"><i class="fa fa-check"></i><b>5.2.1</b> tmap</a></li>
<li class="chapter" data-level="5.2.2" data-path="cartographie.html"><a href="cartographie.html#carte-statique"><i class="fa fa-check"></i><b>5.2.2</b> carte statique</a></li>
<li class="chapter" data-level="5.2.3" data-path="cartographie.html"><a href="cartographie.html#carte-interactive"><i class="fa fa-check"></i><b>5.2.3</b> carte interactive</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="cartographie.html"><a href="cartographie.html#cartes-basées-sur-un-filtrage"><i class="fa fa-check"></i><b>5.3</b> Cartes basées sur un filtrage</a><ul>
<li class="chapter" data-level="5.3.1" data-path="cartographie.html"><a href="cartographie.html#exemple-de-localisation-des-ports-négriers"><i class="fa fa-check"></i><b>5.3.1</b> Exemple de localisation des ports négriers</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="cartographie.html"><a href="cartographie.html#carte-des-lieux-dachat-des-esclaves-pour-nantes"><i class="fa fa-check"></i><b>5.4</b> Carte des Lieux d’achat des esclaves pour Nantes</a><ul>
<li class="chapter" data-level="5.4.1" data-path="cartographie.html"><a href="cartographie.html#carte-comparative-des-lieux-de-vente-en-fonction-pavillons"><i class="fa fa-check"></i><b>5.4.1</b> Carte comparative des lieux de vente en fonction pavillons</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="r-intermédiaire.html"><a href="r-intermédiaire.html"><i class="fa fa-check"></i><b>6</b> R intermédiaire</a><ul>
<li class="chapter" data-level="6.1" data-path="r-intermédiaire.html"><a href="r-intermédiaire.html#fonctions-personnalisées"><i class="fa fa-check"></i><b>6.1</b> Fonctions personnalisées</a><ul>
<li class="chapter" data-level="6.1.1" data-path="r-intermédiaire.html"><a href="r-intermédiaire.html#exemple-de-fonction-graphiques-chronologiques-de-ports-en-base-r"><i class="fa fa-check"></i><b>6.1.1</b> Exemple de fonction : graphiques chronologiques de ports en Base R</a></li>
<li class="chapter" data-level="6.1.2" data-path="r-intermédiaire.html"><a href="r-intermédiaire.html#exemple-de-fonction-thème-graphique-ggplot2"><i class="fa fa-check"></i><b>6.1.2</b> Exemple de fonction : thème graphique (ggplot2)</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="r-intermédiaire.html"><a href="r-intermédiaire.html#programmation"><i class="fa fa-check"></i><b>6.2</b> Programmation</a><ul>
<li class="chapter" data-level="6.2.1" data-path="r-intermédiaire.html"><a href="r-intermédiaire.html#boucle-for"><i class="fa fa-check"></i><b>6.2.1</b> Boucle for</a><ul>
<li class="chapter" data-level="6.2.1.1" data-path="r-intermédiaire.html"><a href="r-intermédiaire.html#exemples-2"><i class="fa fa-check"></i><b>6.2.1.1</b> Exemples</a></li>
<li class="chapter" data-level="6.2.1.2" data-path="r-intermédiaire.html"><a href="r-intermédiaire.html#cas-pratique-représentation-en-base-r-construite-à-partir-dune-boucle-for"><i class="fa fa-check"></i><b>6.2.1.2</b> Cas pratique : représentation en Base R construite à partir d’une boucle for</a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Explorer la Trans-Atlantic Slave trade Database avec R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="manipulation-des-données" class="section level1">
<h1><span class="header-section-number">Chapitre3</span> Manipulation des données</h1>
<div id="préalables" class="section level2">
<h2><span class="header-section-number">3.1</span> Préalables</h2>
<div id="tidyverse" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Tidyverse</h3>
<ul>
<li>dplyr : grammaire de manipulation des tableaux de données.</li>
<li>stringr : manipulation de chaînes de caractères.</li>
<li>tidyr : Modification des formats de tableaux de données, opérations sur les
données manquantes, séparation et réunion de valeurs au sein des cellules.</li>
</ul>
<p>Les package dplyr et stringr font partie de l’écosystème tidyverse. Le tidyverse peut-être installé <em>via</em> l’interface graphique de RStudio ou la commande :</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="manipulation-des-données.html#cb80-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
</div>
<div id="appel-des-packages" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Appel des packages</h3>
<p>La fonction <code>library</code> permet de charger le package et de rendre les fonctionnalités de celui-ci disponibles. elle doit être exécutée à chaque session. Il est possible d’appeler chaque package individuellement ou d’appeler la totalité du tidyverse.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="manipulation-des-données.html#cb81-1"></a><span class="co"># syntaxe 1 </span></span>
<span id="cb81-2"><a href="manipulation-des-données.html#cb81-2"></a><span class="kw">library</span>(dplyr, stringr, tidyr)</span>
<span id="cb81-3"><a href="manipulation-des-données.html#cb81-3"></a></span>
<span id="cb81-4"><a href="manipulation-des-données.html#cb81-4"></a><span class="co"># syntaxe 2</span></span>
<span id="cb81-5"><a href="manipulation-des-données.html#cb81-5"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb81-6"><a href="manipulation-des-données.html#cb81-6"></a><span class="kw">library</span>(stringr) </span>
<span id="cb81-7"><a href="manipulation-des-données.html#cb81-7"></a><span class="kw">library</span>(tidyr)</span>
<span id="cb81-8"><a href="manipulation-des-données.html#cb81-8"></a></span>
<span id="cb81-9"><a href="manipulation-des-données.html#cb81-9"></a><span class="co"># syntaxe 3  </span></span>
<span id="cb81-10"><a href="manipulation-des-données.html#cb81-10"></a><span class="kw">library</span>(tidyverse) </span></code></pre></div>
</div>
<div id="mini-jeu-de-données-utilisé-comme-exemple" class="section level3">
<h3><span class="header-section-number">3.1.3</span> Mini-jeu de données utilisé comme exemple</h3>
<p>Nous utiliserons un mini-jeu de données extrait de la TastDB pour illustrer les métohdes de manipulation de données. Il porte le nom de <code>reprex1</code>. si vous souhaitez reproduire les exemples à suivre, exécutez l’instruction ci-dessous afin de disposer de <code>reprex1</code> dans votre environnement.
(fichiers “tastdb-spss-import.R” et “tastdb-exp-2019.sav” disponibles à l’adresse <a href="https://github.com/wilcar/slaves-voyages" class="uri">https://github.com/wilcar/slaves-voyages</a> requis dans répertoire de travail)</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="manipulation-des-données.html#cb82-1"></a><span class="kw">source</span>(<span class="st">&quot;tastdb-spss-import.R&quot;</span>)</span>
<span id="cb82-2"><a href="manipulation-des-données.html#cb82-2"></a></span>
<span id="cb82-3"><a href="manipulation-des-données.html#cb82-3"></a>exped &lt;-<span class="kw">c</span>(<span class="dv">30002</span>, <span class="dv">30003</span>, <span class="dv">30015</span>, <span class="dv">33748</span>, <span class="dv">32465</span>,</span>
<span id="cb82-4"><a href="manipulation-des-données.html#cb82-4"></a>          <span class="dv">30020</span>, <span class="dv">30022</span>, <span class="dv">30903</span>, <span class="dv">32726</span>, <span class="dv">21561</span>)</span>
<span id="cb82-5"><a href="manipulation-des-données.html#cb82-5"></a></span>
<span id="cb82-6"><a href="manipulation-des-données.html#cb82-6"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb82-7"><a href="manipulation-des-données.html#cb82-7"></a>reprex1 &lt;-<span class="st"> </span>voyages <span class="op">%&gt;%</span></span>
<span id="cb82-8"><a href="manipulation-des-données.html#cb82-8"></a><span class="st">  </span><span class="kw">select</span>(voyageid, slaximp, yearam, ptdepimp, shipname, ownera, ownerb) <span class="op">%&gt;%</span></span>
<span id="cb82-9"><a href="manipulation-des-données.html#cb82-9"></a><span class="st">  </span><span class="kw">filter</span>(ptdepimp <span class="op">==</span><span class="st">&quot;Nantes&quot;</span><span class="op">|</span><span class="st"> </span>ptdepimp <span class="op">==</span><span class="st">&quot;Bordeaux&quot;</span> <span class="op">|</span><span class="st"> </span>ptdepimp <span class="op">==</span><span class="st">&quot;Le Havre&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb82-10"><a href="manipulation-des-données.html#cb82-10"></a><span class="st">  </span><span class="kw">filter</span>(voyageid <span class="op">%in%</span><span class="st"> </span>exped)<span class="er">)</span></span></code></pre></div>
<div id="visualisation-sou-la-forme-de-table-html" class="section level4">
<h4><span class="header-section-number">3.1.3.1</span> Visualisation sou la forme de table html</h4>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#kvzjrveqfo .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#kvzjrveqfo .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kvzjrveqfo .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#kvzjrveqfo .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#kvzjrveqfo .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kvzjrveqfo .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kvzjrveqfo .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kvzjrveqfo .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kvzjrveqfo .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kvzjrveqfo .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kvzjrveqfo .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kvzjrveqfo .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#kvzjrveqfo .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kvzjrveqfo .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kvzjrveqfo .gt_from_md > :first-child {
  margin-top: 0;
}

#kvzjrveqfo .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kvzjrveqfo .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kvzjrveqfo .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#kvzjrveqfo .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kvzjrveqfo .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#kvzjrveqfo .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kvzjrveqfo .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kvzjrveqfo .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kvzjrveqfo .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kvzjrveqfo .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#kvzjrveqfo .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kvzjrveqfo .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#kvzjrveqfo .gt_left {
  text-align: left;
}

#kvzjrveqfo .gt_center {
  text-align: center;
}

#kvzjrveqfo .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kvzjrveqfo .gt_font_normal {
  font-weight: normal;
}

#kvzjrveqfo .gt_font_bold {
  font-weight: bold;
}

#kvzjrveqfo .gt_font_italic {
  font-style: italic;
}

#kvzjrveqfo .gt_super {
  font-size: 65%;
}

#kvzjrveqfo .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="kvzjrveqfo" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">voyageid</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">slaximp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">yearam</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">ptdepimp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">shipname</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">ownera</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">ownerb</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">21561</td>
      <td class="gt_row gt_right">459</td>
      <td class="gt_row gt_right">1672</td>
      <td class="gt_row gt_left">Le Havre</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">Compagnie des Indes Occidentales</td>
      <td class="gt_row gt_left">NA</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">30002</td>
      <td class="gt_row gt_right">592</td>
      <td class="gt_row gt_right">1709</td>
      <td class="gt_row gt_left">Nantes</td>
      <td class="gt_row gt_left">Duc de Bretagne</td>
      <td class="gt_row gt_left">Compagnie royale de Guinee</td>
      <td class="gt_row gt_left">NA</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">30003</td>
      <td class="gt_row gt_right">275</td>
      <td class="gt_row gt_right">1709</td>
      <td class="gt_row gt_left">Nantes</td>
      <td class="gt_row gt_left">César</td>
      <td class="gt_row gt_left">Garde, Pierre de la*</td>
      <td class="gt_row gt_left">NA</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">30015</td>
      <td class="gt_row gt_right">316</td>
      <td class="gt_row gt_right">1711</td>
      <td class="gt_row gt_left">Nantes</td>
      <td class="gt_row gt_left">Duc de Bretagne</td>
      <td class="gt_row gt_left">Bossinet, Jullien</td>
      <td class="gt_row gt_left">NA</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">30020</td>
      <td class="gt_row gt_right">300</td>
      <td class="gt_row gt_right">1713</td>
      <td class="gt_row gt_left">Nantes</td>
      <td class="gt_row gt_left">Luzançay</td>
      <td class="gt_row gt_left">Montaudoin Delaunay, Thomas</td>
      <td class="gt_row gt_left">NA</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">30022</td>
      <td class="gt_row gt_right">316</td>
      <td class="gt_row gt_right">1713</td>
      <td class="gt_row gt_left">Nantes</td>
      <td class="gt_row gt_left">Affriquain</td>
      <td class="gt_row gt_left">Montaudoin*</td>
      <td class="gt_row gt_left">Montaudouin, Jacques</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">30903</td>
      <td class="gt_row gt_right">611</td>
      <td class="gt_row gt_right">1770</td>
      <td class="gt_row gt_left">Nantes</td>
      <td class="gt_row gt_left">Corisante</td>
      <td class="gt_row gt_left">Montaudoin</td>
      <td class="gt_row gt_left">Montaudoin (Frères)*</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">32465</td>
      <td class="gt_row gt_right">105</td>
      <td class="gt_row gt_right">1719</td>
      <td class="gt_row gt_left">Le Havre</td>
      <td class="gt_row gt_left">Duc de Luxembourg</td>
      <td class="gt_row gt_left">Compagnie du Sénégal</td>
      <td class="gt_row gt_left">NA</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">32726</td>
      <td class="gt_row gt_right">144</td>
      <td class="gt_row gt_right">1787</td>
      <td class="gt_row gt_left">Le Havre</td>
      <td class="gt_row gt_left">Duc de Normandie</td>
      <td class="gt_row gt_left">Ruellan*</td>
      <td class="gt_row gt_left">NA</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">33748</td>
      <td class="gt_row gt_right">105</td>
      <td class="gt_row gt_right">1686</td>
      <td class="gt_row gt_left">Bordeaux</td>
      <td class="gt_row gt_left">Saint-Jean Baptiste</td>
      <td class="gt_row gt_left">Compagnie du Sénégal</td>
      <td class="gt_row gt_left">Dhariette, Etienne (Cie royale d'Afrique</td>
    </tr>
  </tbody>
  
  
</table></div>
</div>
<div id="visualisation-sou-la-forme-de-table-brute" class="section level4">
<h4><span class="header-section-number">3.1.3.2</span> Visualisation sou la forme de table brute</h4>
<p>Le tibble révèle les dimensions du tableau ainsi que le type de chaque colonne, ce qui vous permet de savoir si une variable est, par exemple, <code>&lt;chr&gt;</code>ou <code>&lt;dble&gt;</code>(caractère <em>versus</em> numérique).
La tableau est de largeur fixe. Vous noterez que les valeurs textuelles peuvent être tronquées (signe <code>~</code>) afin que ne conserver qu’une seule ligne par observation.</p>
<pre><code>## # A tibble: 10 x 7
##    voyageid slaximp yearam ptdepimp shipname     ownera         ownerb          
##       &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;           
##  1    21561     459   1672 Le Havre &lt;NA&gt;         Compagnie des~ &lt;NA&gt;            
##  2    30002     592   1709 Nantes   Duc de Bret~ Compagnie roy~ &lt;NA&gt;            
##  3    30003     275   1709 Nantes   César        Garde, Pierre~ &lt;NA&gt;            
##  4    30015     316   1711 Nantes   Duc de Bret~ Bossinet, Jul~ &lt;NA&gt;            
##  5    30020     300   1713 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;            
##  6    30022     316   1713 Nantes   Affriquain   Montaudoin*    Montaudouin, Ja~
##  7    30903     611   1770 Nantes   Corisante    Montaudoin     Montaudoin (Frè~
##  8    32465     105   1719 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;            
##  9    32726     144   1787 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;            
## 10    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etie~</code></pre>
</div>
</div>
<div id="lopérateur-piping-operator" class="section level3">
<h3><span class="header-section-number">3.1.4</span> L’opérateur %&gt;% (piping operator)</h3>
<p>Il constitue l’élément majeur de la grammaire de dplyr et permet de convertir un code complexe en une chaîne claire de manipulation des données. Ainsi, si nous nous souhaitons classer les expéditions du tableau <code>reprex1</code> chronologiquement puis sélectionner les expéditions nantaises. Nous pouvons écrire cette instruction :</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="manipulation-des-données.html#cb84-1"></a>chrono &lt;-<span class="st"> </span><span class="kw">arrange</span>(<span class="kw">filter</span>(reprex1, ptdepimp <span class="op">==</span><span class="st">&quot;Nantes&quot;</span>), yearam)</span></code></pre></div>
<p>Il s’agit de la manière traditionnelle d’écrire une instruction par imbrication de fonctions. Pour gagner en lisibilité, il est également possible d’opter pour la création de tableaux intermédiaires avec pour inconvénient de multiplier des tableaux de données qui n’ont pas vocation à être conservés :</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="manipulation-des-données.html#cb85-1"></a>chrono1 &lt;-<span class="st"> </span><span class="kw">arrange</span>(reprex1, yearam)</span>
<span id="cb85-2"><a href="manipulation-des-données.html#cb85-2"></a>chrono2 &lt;-<span class="st"> </span><span class="kw">filter</span>(chrono1, ptdepimp <span class="op">==</span><span class="st">&quot;Nantes&quot;</span>)</span>
<span id="cb85-3"><a href="manipulation-des-données.html#cb85-3"></a><span class="kw">rm</span>(chrono1)</span></code></pre></div>
<p>La dernière option qui intègre les <code>%&gt;%</code> rendent le code plus efficace et plus lisible :</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="manipulation-des-données.html#cb86-1"></a><span class="co"># Exemple de pipe</span></span>
<span id="cb86-2"><a href="manipulation-des-données.html#cb86-2"></a>chrono &lt;-<span class="st"> </span>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb86-3"><a href="manipulation-des-données.html#cb86-3"></a><span class="st">  </span><span class="kw">arrange</span>(yearam) <span class="op">%&gt;%</span></span>
<span id="cb86-4"><a href="manipulation-des-données.html#cb86-4"></a><span class="st">  </span><span class="kw">filter</span>(ptdepimp<span class="op">==</span><span class="st">&quot;Nantes&quot;</span>)</span></code></pre></div>
<p>Le tableau de données sur lequel va porter les opérations de tri et de filtrage (<code>reprex1</code>) est déclaré à gauche du premier opérateur “pipe” évitant ainsi de l’employer comme premier argument des fonctions <code>arrange</code> et <code>filter</code>.</p>
<p>:bulb: Raccourcis clavier du <code>%&gt;%</code> : <strong>Ctrl + maj. + M</strong> (Windows).</p>
</div>
<div id="références" class="section level3">
<h3><span class="header-section-number">3.1.5</span> Références</h3>
<p><a href="https://suzan.rbind.io/2018/01/dplyr-tutorial-1/#selecting-columns" class="uri">https://suzan.rbind.io/2018/01/dplyr-tutorial-1/#selecting-columns</a>
<a href="https://larmarange.github.io/analyse-R/" class="uri">https://larmarange.github.io/analyse-R/</a></p>
</div>
</div>
<div id="sélectionner-des-colonnes" class="section level2">
<h2><span class="header-section-number">3.2</span> Sélectionner des colonnes</h2>
<p>Fonction <code>select</code>.</p>
<div id="opérations-courantes" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Opérations courantes</h3>
<p>Pour sélectionner quelques colonnes, ajoutez simplement leurs noms ou leur position d’index comme arguments de la fonction <code>select</code>. L’ordre dans lequel vous les ajoutez déterminera l’ordre dans lequel elles seront ordonnées.</p>
<div id="sélection-dune-colonne-repérée-par-son-nom" class="section level4">
<h4><span class="header-section-number">3.2.1.1</span> Sélection d’une colonne repérée par son nom</h4>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="manipulation-des-données.html#cb87-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb87-2"><a href="manipulation-des-données.html#cb87-2"></a><span class="st">  </span><span class="kw">select</span>(shipname) </span></code></pre></div>
<pre><code>## # A tibble: 10 x 1
##    shipname           
##    &lt;chr&gt;              
##  1 &lt;NA&gt;               
##  2 Duc de Bretagne    
##  3 César              
##  4 Duc de Bretagne    
##  5 Luzançay           
##  6 Affriquain         
##  7 Corisante          
##  8 Duc de Luxembourg  
##  9 Duc de Normandie   
## 10 Saint-Jean Baptiste</code></pre>
</div>
<div id="sélection-dune-colonne-repérée-par-sa-position-dindex" class="section level4">
<h4><span class="header-section-number">3.2.1.2</span> Sélection d’une colonne repérée par sa position d’index</h4>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="manipulation-des-données.html#cb89-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb89-2"><a href="manipulation-des-données.html#cb89-2"></a><span class="st">  </span><span class="kw">select</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 1
##    shipname           
##    &lt;chr&gt;              
##  1 &lt;NA&gt;               
##  2 Duc de Bretagne    
##  3 César              
##  4 Duc de Bretagne    
##  5 Luzançay           
##  6 Affriquain         
##  7 Corisante          
##  8 Duc de Luxembourg  
##  9 Duc de Normandie   
## 10 Saint-Jean Baptiste</code></pre>
</div>
<div id="sélection-de-colonnes-multiples-noms-de-variables" class="section level4">
<h4><span class="header-section-number">3.2.1.3</span> Sélection de colonnes multiples (noms de variables)</h4>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="manipulation-des-données.html#cb91-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb91-2"><a href="manipulation-des-données.html#cb91-2"></a><span class="st">  </span><span class="kw">select</span>(shipname, ptdepimp, voyageid, yearam, slaximp)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 5
##    shipname            ptdepimp voyageid yearam slaximp
##    &lt;chr&gt;               &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
##  1 &lt;NA&gt;                Le Havre    21561   1672     459
##  2 Duc de Bretagne     Nantes      30002   1709     592
##  3 César               Nantes      30003   1709     275
##  4 Duc de Bretagne     Nantes      30015   1711     316
##  5 Luzançay            Nantes      30020   1713     300
##  6 Affriquain          Nantes      30022   1713     316
##  7 Corisante           Nantes      30903   1770     611
##  8 Duc de Luxembourg   Le Havre    32465   1719     105
##  9 Duc de Normandie    Le Havre    32726   1787     144
## 10 Saint-Jean Baptiste Bordeaux    33748   1686     105</code></pre>
</div>
<div id="sélection-de-colonnes-multiples-position-dindex" class="section level4">
<h4><span class="header-section-number">3.2.1.4</span> Sélection de colonnes multiples (position d’index)</h4>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="manipulation-des-données.html#cb93-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb93-2"><a href="manipulation-des-données.html#cb93-2"></a><span class="st">  </span><span class="kw">select</span>(<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 5
##    ptdepimp yearam slaximp voyageid shipname           
##    &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;              
##  1 Le Havre   1672     459    21561 &lt;NA&gt;               
##  2 Nantes     1709     592    30002 Duc de Bretagne    
##  3 Nantes     1709     275    30003 César              
##  4 Nantes     1711     316    30015 Duc de Bretagne    
##  5 Nantes     1713     300    30020 Luzançay           
##  6 Nantes     1713     316    30022 Affriquain         
##  7 Nantes     1770     611    30903 Corisante          
##  8 Le Havre   1719     105    32465 Duc de Luxembourg  
##  9 Le Havre   1787     144    32726 Duc de Normandie   
## 10 Bordeaux   1686     105    33748 Saint-Jean Baptiste</code></pre>
</div>
<div id="sélection-de-colonnes-contiguës" class="section level4">
<h4><span class="header-section-number">3.2.1.5</span> Sélection de colonnes contiguës</h4>
<p>Vous pouvez également sélectionner des blocs de colonnes ,c’est à dire des colonnes contiguës à l’aide du signe <code>:</code>. L’instruction ci-dessous permet de sélectionner les colonnes de 2 à 4.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="manipulation-des-données.html#cb95-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb95-2"><a href="manipulation-des-données.html#cb95-2"></a><span class="st">  </span><span class="kw">select</span>(<span class="dv">2</span><span class="op">:</span><span class="dv">4</span>)  </span></code></pre></div>
<pre><code>## # A tibble: 10 x 3
##    slaximp yearam ptdepimp
##      &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;   
##  1     459   1672 Le Havre
##  2     592   1709 Nantes  
##  3     275   1709 Nantes  
##  4     316   1711 Nantes  
##  5     300   1713 Nantes  
##  6     316   1713 Nantes  
##  7     611   1770 Nantes  
##  8     105   1719 Le Havre
##  9     144   1787 Le Havre
## 10     105   1686 Bordeaux</code></pre>
</div>
<div id="sélection-par-exclusion" class="section level4">
<h4><span class="header-section-number">3.2.1.6</span> Sélection par exclusion</h4>
<p>Une alternative consiste à désélectionner des colonnes en ajoutant un signe moins. Dans l’exemple ci-dessous, toutes les colonnes sont sléectionnées sauf la deuxième.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="manipulation-des-données.html#cb97-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb97-2"><a href="manipulation-des-données.html#cb97-2"></a><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 6
##    voyageid yearam ptdepimp shipname      ownera            ownerb              
##       &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;             &lt;chr&gt;               
##  1    21561   1672 Le Havre &lt;NA&gt;          Compagnie des In~ &lt;NA&gt;                
##  2    30002   1709 Nantes   Duc de Breta~ Compagnie royale~ &lt;NA&gt;                
##  3    30003   1709 Nantes   César         Garde, Pierre de~ &lt;NA&gt;                
##  4    30015   1711 Nantes   Duc de Breta~ Bossinet, Jullien &lt;NA&gt;                
##  5    30020   1713 Nantes   Luzançay      Montaudoin Delau~ &lt;NA&gt;                
##  6    30022   1713 Nantes   Affriquain    Montaudoin*       Montaudouin, Jacques
##  7    30903   1770 Nantes   Corisante     Montaudoin        Montaudoin (Frères)*
##  8    32465   1719 Le Havre Duc de Luxem~ Compagnie du Sén~ &lt;NA&gt;                
##  9    32726   1787 Le Havre Duc de Norma~ Ruellan*          &lt;NA&gt;                
## 10    33748   1686 Bordeaux Saint-Jean B~ Compagnie du Sén~ Dhariette, Etienne ~</code></pre>
</div>
<div id="compléter-une-sélection-par-les-colonnes-non-encore-sélectionnées" class="section level4">
<h4><span class="header-section-number">3.2.1.7</span> Compléter une sélection par les colonnes non encore sélectionnées</h4>
<ul>
<li>Lorsque vous réagencez un tableau, La fonction-raccourcis <code>everything()</code>sélectionne l’ensemble des colonnes non encore sélectionnées.</li>
<li>Notez que la fonction <code>everything</code> n’est pas suivi d’arguments, d’où les parenthèses vides.</li>
</ul>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="manipulation-des-données.html#cb99-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb99-2"><a href="manipulation-des-données.html#cb99-2"></a><span class="st">  </span><span class="kw">select</span>(yearam, <span class="kw">everything</span>())</span></code></pre></div>
<pre><code>## # A tibble: 10 x 7
##    yearam voyageid slaximp ptdepimp shipname     ownera         ownerb          
##     &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;           
##  1   1672    21561     459 Le Havre &lt;NA&gt;         Compagnie des~ &lt;NA&gt;            
##  2   1709    30002     592 Nantes   Duc de Bret~ Compagnie roy~ &lt;NA&gt;            
##  3   1709    30003     275 Nantes   César        Garde, Pierre~ &lt;NA&gt;            
##  4   1711    30015     316 Nantes   Duc de Bret~ Bossinet, Jul~ &lt;NA&gt;            
##  5   1713    30020     300 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;            
##  6   1713    30022     316 Nantes   Affriquain   Montaudoin*    Montaudouin, Ja~
##  7   1770    30903     611 Nantes   Corisante    Montaudoin     Montaudoin (Frè~
##  8   1719    32465     105 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;            
##  9   1787    32726     144 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;            
## 10   1686    33748     105 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etie~</code></pre>
</div>
</div>
<div id="opérations-particulières" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Opérations particulières</h3>
<div id="ré-agencer-des-colonnes-alphabétiquement" class="section level4">
<h4><span class="header-section-number">3.2.2.1</span> Ré-agencer des colonnes alphabétiquement</h4>
<p>Vous devez imbriquer les fonction <code>select</code>et <code>sort</code>. Cette dernière prend comme argument le signe <code>.</code>qui signifie “toutes les colonnes”.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="manipulation-des-données.html#cb101-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb101-2"><a href="manipulation-des-données.html#cb101-2"></a><span class="st">  </span><span class="kw">select</span>(<span class="kw">sort</span>(<span class="kw">names</span>(.)))</span></code></pre></div>
<pre><code>## # A tibble: 10 x 7
##    ownera          ownerb           ptdepimp shipname    slaximp voyageid yearam
##    &lt;chr&gt;           &lt;chr&gt;            &lt;chr&gt;    &lt;chr&gt;         &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;
##  1 Compagnie des ~ &lt;NA&gt;             Le Havre &lt;NA&gt;            459    21561   1672
##  2 Compagnie roya~ &lt;NA&gt;             Nantes   Duc de Bre~     592    30002   1709
##  3 Garde, Pierre ~ &lt;NA&gt;             Nantes   César           275    30003   1709
##  4 Bossinet, Jull~ &lt;NA&gt;             Nantes   Duc de Bre~     316    30015   1711
##  5 Montaudoin Del~ &lt;NA&gt;             Nantes   Luzançay        300    30020   1713
##  6 Montaudoin*     Montaudouin, Ja~ Nantes   Affriquain      316    30022   1713
##  7 Montaudoin      Montaudoin (Frè~ Nantes   Corisante       611    30903   1770
##  8 Compagnie du S~ &lt;NA&gt;             Le Havre Duc de Lux~     105    32465   1719
##  9 Ruellan*        &lt;NA&gt;             Le Havre Duc de Nor~     144    32726   1787
## 10 Compagnie du S~ Dhariette, Etie~ Bordeaux Saint-Jean~     105    33748   1686</code></pre>
</div>
</div>
</div>
<div id="ordonner-les-lignes-en-fonction-des-colonnes" class="section level2">
<h2><span class="header-section-number">3.3</span> Ordonner les lignes en fonction des colonnes</h2>
<ul>
<li>La fonction <code>arrange</code> réordonne les lignes d’un tableau selon une ou plusieurs colonnes.</li>
<li>La fonction <code>sort()</code>de R Base ne peut être utilisée à la place de la fonction <code>arrange</code>.</li>
</ul>
<div id="tri-à-partir-dune-colonne-unique" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Tri à partir d’une colonne unique</h3>
<div id="tri-ascendant" class="section level4">
<h4><span class="header-section-number">3.3.1.1</span> Tri ascendant</h4>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="manipulation-des-données.html#cb103-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb103-2"><a href="manipulation-des-données.html#cb103-2"></a><span class="st">  </span><span class="kw">arrange</span>(yearam)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 7
##    voyageid slaximp yearam ptdepimp shipname     ownera         ownerb          
##       &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;           
##  1    21561     459   1672 Le Havre &lt;NA&gt;         Compagnie des~ &lt;NA&gt;            
##  2    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etie~
##  3    30002     592   1709 Nantes   Duc de Bret~ Compagnie roy~ &lt;NA&gt;            
##  4    30003     275   1709 Nantes   César        Garde, Pierre~ &lt;NA&gt;            
##  5    30015     316   1711 Nantes   Duc de Bret~ Bossinet, Jul~ &lt;NA&gt;            
##  6    30020     300   1713 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;            
##  7    30022     316   1713 Nantes   Affriquain   Montaudoin*    Montaudouin, Ja~
##  8    32465     105   1719 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;            
##  9    30903     611   1770 Nantes   Corisante    Montaudoin     Montaudoin (Frè~
## 10    32726     144   1787 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;</code></pre>
</div>
<div id="tri-descendant" class="section level4">
<h4><span class="header-section-number">3.3.1.2</span> Tri descendant</h4>
<p>Deux syntaxes sont possibles pour trier des colonnes de manières décroissante.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="manipulation-des-données.html#cb105-1"></a><span class="co"># première syntaxe (desc)</span></span>
<span id="cb105-2"><a href="manipulation-des-données.html#cb105-2"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb105-3"><a href="manipulation-des-données.html#cb105-3"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(slaximp))</span></code></pre></div>
<pre><code>## # A tibble: 10 x 7
##    voyageid slaximp yearam ptdepimp shipname     ownera         ownerb          
##       &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;           
##  1    30903     611   1770 Nantes   Corisante    Montaudoin     Montaudoin (Frè~
##  2    30002     592   1709 Nantes   Duc de Bret~ Compagnie roy~ &lt;NA&gt;            
##  3    21561     459   1672 Le Havre &lt;NA&gt;         Compagnie des~ &lt;NA&gt;            
##  4    30015     316   1711 Nantes   Duc de Bret~ Bossinet, Jul~ &lt;NA&gt;            
##  5    30022     316   1713 Nantes   Affriquain   Montaudoin*    Montaudouin, Ja~
##  6    30020     300   1713 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;            
##  7    30003     275   1709 Nantes   César        Garde, Pierre~ &lt;NA&gt;            
##  8    32726     144   1787 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;            
##  9    32465     105   1719 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;            
## 10    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etie~</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="manipulation-des-données.html#cb107-1"></a><span class="co"># seconde syntaxe (signe moins)</span></span>
<span id="cb107-2"><a href="manipulation-des-données.html#cb107-2"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb107-3"><a href="manipulation-des-données.html#cb107-3"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="op">-</span>slaximp)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 7
##    voyageid slaximp yearam ptdepimp shipname     ownera         ownerb          
##       &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;           
##  1    30903     611   1770 Nantes   Corisante    Montaudoin     Montaudoin (Frè~
##  2    30002     592   1709 Nantes   Duc de Bret~ Compagnie roy~ &lt;NA&gt;            
##  3    21561     459   1672 Le Havre &lt;NA&gt;         Compagnie des~ &lt;NA&gt;            
##  4    30015     316   1711 Nantes   Duc de Bret~ Bossinet, Jul~ &lt;NA&gt;            
##  5    30022     316   1713 Nantes   Affriquain   Montaudoin*    Montaudouin, Ja~
##  6    30020     300   1713 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;            
##  7    30003     275   1709 Nantes   César        Garde, Pierre~ &lt;NA&gt;            
##  8    32726     144   1787 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;            
##  9    32465     105   1719 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;            
## 10    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etie~</code></pre>
</div>
</div>
<div id="tri-selon-plusieurs-colonnes" class="section level3">
<h3><span class="header-section-number">3.3.2</span> Tri selon plusieurs colonnes</h3>
<p>L’ordre dans lequel vous ajoutez les noms de colonnes déterminera l’ordre de tri du tableau. Dans l’exemple ci-dessous, le tableau et d’abord réagencé par année (<code>yearam</code>) et pour chaque année les expéditions sont triées par port de départ (<code>ptdepimp</code>) et enfin par nom de navire (<code>shpiname</code>).</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="manipulation-des-données.html#cb109-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb109-2"><a href="manipulation-des-données.html#cb109-2"></a><span class="st">  </span><span class="kw">arrange</span>(yearam, ptdepimp,  shipname)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 7
##    voyageid slaximp yearam ptdepimp shipname     ownera         ownerb          
##       &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;           
##  1    21561     459   1672 Le Havre &lt;NA&gt;         Compagnie des~ &lt;NA&gt;            
##  2    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etie~
##  3    30003     275   1709 Nantes   César        Garde, Pierre~ &lt;NA&gt;            
##  4    30002     592   1709 Nantes   Duc de Bret~ Compagnie roy~ &lt;NA&gt;            
##  5    30015     316   1711 Nantes   Duc de Bret~ Bossinet, Jul~ &lt;NA&gt;            
##  6    30022     316   1713 Nantes   Affriquain   Montaudoin*    Montaudouin, Ja~
##  7    30020     300   1713 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;            
##  8    32465     105   1719 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;            
##  9    30903     611   1770 Nantes   Corisante    Montaudoin     Montaudoin (Frè~
## 10    32726     144   1787 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;</code></pre>
</div>
</div>
<div id="filtrage-de-lignes" class="section level2">
<h2><span class="header-section-number">3.4</span> Filtrage de lignes</h2>
<p>La fonction <code>filter</code> permet de sélectionner des lignes d’un tableau de données.</p>
<div id="filtrage-en-fonction-dune-colonne" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Filtrage en fonction d’une colonne</h3>
<div id="filtrage-portant-sur-des-données-textuelles" class="section level4">
<h4><span class="header-section-number">3.4.1.1</span> Filtrage portant sur des données textuelles</h4>
<div id="filtrage-correspondance-exacte" class="section level5">
<h5><span class="header-section-number">3.4.1.1.1</span> Filtrage, correspondance exacte</h5>
<ul>
<li>Pour effectuer un filtrage portant sur une chaîne de caractère exacte, nous employons le signe d’égalité <code>==</code>. Attention à encadrer la chaîne de caractère par des guillemets doubles.</li>
<li>Lorsqu’il s’agit d’exprimer la négation, le signe de l’exclusion <code>!</code> est ajouté comme préfixe au nom de colonne sur laquelle port le filtrage. :warning: le signe <code>!</code> ne remplace pas le signe d’égalité <code>==</code>).</li>
</ul>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="manipulation-des-données.html#cb111-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb111-2"><a href="manipulation-des-données.html#cb111-2"></a><span class="st">  </span><span class="kw">filter</span> (ptdepimp <span class="op">==</span><span class="st"> &quot;Nantes&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera             ownerb       
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;              &lt;chr&gt;        
## 1    30002     592   1709 Nantes   Duc de Bret~ Compagnie royale ~ &lt;NA&gt;         
## 2    30003     275   1709 Nantes   César        Garde, Pierre de ~ &lt;NA&gt;         
## 3    30015     316   1711 Nantes   Duc de Bret~ Bossinet, Jullien  &lt;NA&gt;         
## 4    30020     300   1713 Nantes   Luzançay     Montaudoin Delaun~ &lt;NA&gt;         
## 5    30022     316   1713 Nantes   Affriquain   Montaudoin*        Montaudouin,~
## 6    30903     611   1770 Nantes   Corisante    Montaudoin         Montaudoin (~</code></pre>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="manipulation-des-données.html#cb113-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb113-2"><a href="manipulation-des-données.html#cb113-2"></a><span class="st">  </span><span class="kw">filter</span> (<span class="op">!</span>ptdepimp <span class="op">==</span><span class="st"> &quot;Nantes&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera         ownerb           
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;            
## 1    21561     459   1672 Le Havre &lt;NA&gt;         Compagnie des~ &lt;NA&gt;             
## 2    32465     105   1719 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;             
## 3    32726     144   1787 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;             
## 4    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etien~</code></pre>
<p>Il est possible d’effectuer un filtrage portant sur plusieurs valeurs textuelles en employant le signe de l’alternation <code>|</code>.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="manipulation-des-données.html#cb115-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb115-2"><a href="manipulation-des-données.html#cb115-2"></a><span class="st">  </span><span class="kw">filter</span> (ptdepimp <span class="op">==</span><span class="st"> &quot;Nantes&quot;</span> <span class="op">|</span><span class="st"> </span>ptdepimp <span class="op">==</span><span class="st">&quot;Bordeaux&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 7 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera         ownerb           
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;            
## 1    30002     592   1709 Nantes   Duc de Bret~ Compagnie roy~ &lt;NA&gt;             
## 2    30003     275   1709 Nantes   César        Garde, Pierre~ &lt;NA&gt;             
## 3    30015     316   1711 Nantes   Duc de Bret~ Bossinet, Jul~ &lt;NA&gt;             
## 4    30020     300   1713 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;             
## 5    30022     316   1713 Nantes   Affriquain   Montaudoin*    Montaudouin, Jac~
## 6    30903     611   1770 Nantes   Corisante    Montaudoin     Montaudoin (Frèr~
## 7    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etien~</code></pre>
</div>
<div id="filtrage-correspondance-partielle." class="section level5">
<h5><span class="header-section-number">3.4.1.1.2</span> Filtrage, correspondance partielle.</h5>
<p>Pour effectuer un filtrage “plein texte” c’est à dire non pas sur une chaîne de caractères exacte mais sur une chaîne de caractère partielle, il est nécessaire d’utiliser la fonction <code>str_detect</code>issue du package <code>stringr</code>. Ce package fait parti du (<code>tidyverse</code>).</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="manipulation-des-données.html#cb117-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb117-2"><a href="manipulation-des-données.html#cb117-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(shipname, <span class="st">&quot;Duc&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 4 x 7
##   voyageid slaximp yearam ptdepimp shipname         ownera                ownerb
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;                 &lt;chr&gt; 
## 1    30002     592   1709 Nantes   Duc de Bretagne  Compagnie royale de ~ &lt;NA&gt;  
## 2    30015     316   1711 Nantes   Duc de Bretagne  Bossinet, Jullien     &lt;NA&gt;  
## 3    32465     105   1719 Le Havre Duc de Luxembou~ Compagnie du Sénégal  &lt;NA&gt;  
## 4    32726     144   1787 Le Havre Duc de Normandie Ruellan*              &lt;NA&gt;</code></pre>
<p>L’expression de la négation est similaire au filtrage portant sur une chaîne exacte.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="manipulation-des-données.html#cb119-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb119-2"><a href="manipulation-des-données.html#cb119-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">str_detect</span>(shipname, <span class="st">&quot;Bretagne&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 7 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera         ownerb           
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;            
## 1    30003     275   1709 Nantes   César        Garde, Pierre~ &lt;NA&gt;             
## 2    30020     300   1713 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;             
## 3    30022     316   1713 Nantes   Affriquain   Montaudoin*    Montaudouin, Jac~
## 4    30903     611   1770 Nantes   Corisante    Montaudoin     Montaudoin (Frèr~
## 5    32465     105   1719 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;             
## 6    32726     144   1787 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;             
## 7    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etien~</code></pre>
<p>La fonction <code>str_detect</code> permet d’effectuer des recherches portant sur des séquences de caractères litérales ou également des expression régulières qui étendent les possibilités de correspondance. Ainsi, le signe de l’alternation peut-être directement employé dans le motif de recherche.</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="manipulation-des-données.html#cb121-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb121-2"><a href="manipulation-des-données.html#cb121-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(shipname, <span class="st">&quot;Bretagne|Normandie|Luxembourg&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 4 x 7
##   voyageid slaximp yearam ptdepimp shipname         ownera                ownerb
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;                 &lt;chr&gt; 
## 1    30002     592   1709 Nantes   Duc de Bretagne  Compagnie royale de ~ &lt;NA&gt;  
## 2    30015     316   1711 Nantes   Duc de Bretagne  Bossinet, Jullien     &lt;NA&gt;  
## 3    32465     105   1719 Le Havre Duc de Luxembou~ Compagnie du Sénégal  &lt;NA&gt;  
## 4    32726     144   1787 Le Havre Duc de Normandie Ruellan*              &lt;NA&gt;</code></pre>
</div>
</div>
<div id="filtrage-valeurs-numériques" class="section level4">
<h4><span class="header-section-number">3.4.1.2</span> Filtrage, valeurs numériques</h4>
<div id="filtrage-selon-une-valeur-numérique" class="section level5">
<h5><span class="header-section-number">3.4.1.2.1</span> Filtrage selon une valeur numérique</h5>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="manipulation-des-données.html#cb123-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb123-2"><a href="manipulation-des-données.html#cb123-2"></a><span class="st">  </span><span class="kw">filter</span>(yearam <span class="op">==</span><span class="st"> </span><span class="dv">1709</span>)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 7
##   voyageid slaximp yearam ptdepimp shipname       ownera                  ownerb
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;          &lt;chr&gt;                   &lt;chr&gt; 
## 1    30002     592   1709 Nantes   Duc de Bretag~ Compagnie royale de Gu~ &lt;NA&gt;  
## 2    30003     275   1709 Nantes   César          Garde, Pierre de la*    &lt;NA&gt;</code></pre>
</div>
<div id="filtrage-selon-un-intervalle-de-valeurs" class="section level5">
<h5><span class="header-section-number">3.4.1.2.2</span> Filtrage selon un intervalle de valeurs</h5>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="manipulation-des-données.html#cb125-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb125-2"><a href="manipulation-des-données.html#cb125-2"></a><span class="st">  </span><span class="kw">filter</span>(slaximp <span class="op">&gt;=</span><span class="st"> </span><span class="dv">100</span> <span class="op">&amp;</span><span class="st"> </span>slaximp <span class="op">&lt;=</span><span class="st"> </span><span class="dv">300</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera         ownerb           
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;            
## 1    30003     275   1709 Nantes   César        Garde, Pierre~ &lt;NA&gt;             
## 2    30020     300   1713 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;             
## 3    32465     105   1719 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;             
## 4    32726     144   1787 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;             
## 5    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etien~</code></pre>
</div>
</div>
<div id="filtrage-basé-sur-un-vecteur" class="section level4">
<h4><span class="header-section-number">3.4.1.3</span> Filtrage basé sur un vecteur</h4>
<p>La fonction <code>filter</code> supporte la vectorisation et simplifie le filtrage portant sur un grand nombre de valeurs.
On fait référence au vecteur avec l’opérateur <code>%in%</code>. Deux approches sont possibles. Le vecteur peut-être directement construit dans <code>filter</code> ou au préalable.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="manipulation-des-données.html#cb127-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb127-2"><a href="manipulation-des-données.html#cb127-2"></a><span class="st">  </span><span class="kw">filter</span>(yearam <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1709</span>, <span class="dv">1767</span>, <span class="dv">1686</span>))</span></code></pre></div>
<pre><code>## # A tibble: 3 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera        ownerb            
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;         &lt;chr&gt;             
## 1    30002     592   1709 Nantes   Duc de Bret~ Compagnie ro~ &lt;NA&gt;              
## 2    30003     275   1709 Nantes   César        Garde, Pierr~ &lt;NA&gt;              
## 3    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du~ Dhariette, Etienn~</code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="manipulation-des-données.html#cb129-1"></a>dates &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1709</span>, <span class="dv">1767</span>, <span class="dv">1686</span>) </span>
<span id="cb129-2"><a href="manipulation-des-données.html#cb129-2"></a></span>
<span id="cb129-3"><a href="manipulation-des-données.html#cb129-3"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb129-4"><a href="manipulation-des-données.html#cb129-4"></a><span class="st">  </span><span class="kw">filter</span>(yearam <span class="op">%in%</span><span class="st"> </span>dates)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera        ownerb            
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;         &lt;chr&gt;             
## 1    30002     592   1709 Nantes   Duc de Bret~ Compagnie ro~ &lt;NA&gt;              
## 2    30003     275   1709 Nantes   César        Garde, Pierr~ &lt;NA&gt;              
## 3    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du~ Dhariette, Etienn~</code></pre>
</div>
<div id="filtrage-des-observations-manquantes" class="section level4">
<h4><span class="header-section-number">3.4.1.4</span> Filtrage des observations manquantes</h4>
<p>Pour filtrer les lignes vides, il existe trois syntaxes différentes. Vous pouvez annuler la fonction logique <code>is.na()</code> par le signe <code>!</code> ou vous pouvez utiliser la fonction <code>complete.cases</code> ou la fonction <code>drop_na</code> du package <code>tidyr</code>appartenant au <code>tidyverse</code>.</p>
<p>Les exemples ci-dessous ne conserverons que les lignes dont le nom du navire est connu.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="manipulation-des-données.html#cb131-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb131-2"><a href="manipulation-des-données.html#cb131-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(shipname))</span></code></pre></div>
<pre><code>## # A tibble: 9 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera         ownerb           
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;            
## 1    30002     592   1709 Nantes   Duc de Bret~ Compagnie roy~ &lt;NA&gt;             
## 2    30003     275   1709 Nantes   César        Garde, Pierre~ &lt;NA&gt;             
## 3    30015     316   1711 Nantes   Duc de Bret~ Bossinet, Jul~ &lt;NA&gt;             
## 4    30020     300   1713 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;             
## 5    30022     316   1713 Nantes   Affriquain   Montaudoin*    Montaudouin, Jac~
## 6    30903     611   1770 Nantes   Corisante    Montaudoin     Montaudoin (Frèr~
## 7    32465     105   1719 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;             
## 8    32726     144   1787 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;             
## 9    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etien~</code></pre>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="manipulation-des-données.html#cb133-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb133-2"><a href="manipulation-des-données.html#cb133-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(shipname))</span></code></pre></div>
<pre><code>## # A tibble: 9 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera         ownerb           
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;            
## 1    30002     592   1709 Nantes   Duc de Bret~ Compagnie roy~ &lt;NA&gt;             
## 2    30003     275   1709 Nantes   César        Garde, Pierre~ &lt;NA&gt;             
## 3    30015     316   1711 Nantes   Duc de Bret~ Bossinet, Jul~ &lt;NA&gt;             
## 4    30020     300   1713 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;             
## 5    30022     316   1713 Nantes   Affriquain   Montaudoin*    Montaudouin, Jac~
## 6    30903     611   1770 Nantes   Corisante    Montaudoin     Montaudoin (Frèr~
## 7    32465     105   1719 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;             
## 8    32726     144   1787 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;             
## 9    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etien~</code></pre>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="manipulation-des-données.html#cb135-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb135-2"><a href="manipulation-des-données.html#cb135-2"></a><span class="st">  </span><span class="kw">drop_na</span>(shipname)</span></code></pre></div>
<pre><code>## # A tibble: 9 x 7
##   voyageid slaximp yearam ptdepimp shipname     ownera         ownerb           
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;            
## 1    30002     592   1709 Nantes   Duc de Bret~ Compagnie roy~ &lt;NA&gt;             
## 2    30003     275   1709 Nantes   César        Garde, Pierre~ &lt;NA&gt;             
## 3    30015     316   1711 Nantes   Duc de Bret~ Bossinet, Jul~ &lt;NA&gt;             
## 4    30020     300   1713 Nantes   Luzançay     Montaudoin De~ &lt;NA&gt;             
## 5    30022     316   1713 Nantes   Affriquain   Montaudoin*    Montaudouin, Jac~
## 6    30903     611   1770 Nantes   Corisante    Montaudoin     Montaudoin (Frèr~
## 7    32465     105   1719 Le Havre Duc de Luxe~ Compagnie du ~ &lt;NA&gt;             
## 8    32726     144   1787 Le Havre Duc de Norm~ Ruellan*       &lt;NA&gt;             
## 9    33748     105   1686 Bordeaux Saint-Jean ~ Compagnie du ~ Dhariette, Etien~</code></pre>
<p>Ce dernier exemple utilise <code>drop_na()</code>sans arguments pour filtrer lignes contenant des observations manquantes dans n’importe quell colonne.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="manipulation-des-données.html#cb137-1"></a>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb137-2"><a href="manipulation-des-données.html#cb137-2"></a><span class="st">  </span><span class="kw">drop_na</span>()</span></code></pre></div>
<pre><code>## # A tibble: 3 x 7
##   voyageid slaximp yearam ptdepimp shipname      ownera      ownerb             
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;              
## 1    30022     316   1713 Nantes   Affriquain    Montaudoin* Montaudouin, Jacqu~
## 2    30903     611   1770 Nantes   Corisante     Montaudoin  Montaudoin (Frères~
## 3    33748     105   1686 Bordeaux Saint-Jean B~ Compagnie ~ Dhariette, Etienne~</code></pre>
</div>
</div>
<div id="filtrage-en-fonction-de-plusieurs-colonnes" class="section level3">
<h3><span class="header-section-number">3.4.2</span> Filtrage en fonction de plusieurs colonnes</h3>
<div id="utilisation-de-la-fonction-filter" class="section level4">
<h4><span class="header-section-number">3.4.2.1</span> Utilisation de la fonction filter</h4>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="manipulation-des-données.html#cb139-1"></a>demo &lt;-<span class="st"> </span>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb139-2"><a href="manipulation-des-données.html#cb139-2"></a><span class="st">  </span><span class="kw">filter</span>(slaximp <span class="op">==</span><span class="st"> </span><span class="dv">100</span> <span class="op">&amp;</span><span class="st"> </span>ptdepimp <span class="op">==</span><span class="st"> &quot;Bordeaux&quot;</span>) </span></code></pre></div>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="manipulation-des-données.html#cb140-1"></a>demo &lt;-<span class="st"> </span>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb140-2"><a href="manipulation-des-données.html#cb140-2"></a><span class="st">  </span><span class="kw">filter</span>(slaximp <span class="op">==</span><span class="st"> </span><span class="dv">100</span>) <span class="op">%&gt;%</span></span>
<span id="cb140-3"><a href="manipulation-des-données.html#cb140-3"></a><span class="st">  </span><span class="kw">filter</span> (ptdepimp <span class="op">==</span><span class="st"> &quot;Bordeaux&quot;</span>) </span></code></pre></div>
</div>
<div id="utilisation-de-la-fonction-filter_at" class="section level4">
<h4><span class="header-section-number">3.4.2.2</span> Utilisation de la fonction filter_at</h4>
<p>La fonction <code>filter_at</code> vous permet d’effectuer un filtrage sur des colonnes spécifiées par l’argument <code>vars()</code>. Le deuxième argument est la condition de sélection. vous pouvez utiliser <code>all_vars()</code>si toutes les colonnes doivent retourner VRAI (ET équivalent), ou <code>any_vars()</code>dans le cas où une seule variable doit retourner VRAI (OU équivalent).
Dans l’exemple ci-dessous nous cherchons à filtrer les expéditions dont les navires sont la propriétés de plusieurs <code>Montaudoin</code> (<code>ownera</code> et <code>ownerb</code>). Notez l’utilisation du signe <code>.</code>qui fait fait référence aux variables précédemment déclarés dans l’argument <code>vars()</code>.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="manipulation-des-données.html#cb141-1"></a>demo &lt;-<span class="st">  </span>reprex1 <span class="op">%&gt;%</span></span>
<span id="cb141-2"><a href="manipulation-des-données.html#cb141-2"></a><span class="st">  </span><span class="kw">filter_at</span>(<span class="kw">vars</span>(ownera<span class="op">:</span>ownerb), <span class="kw">any_vars</span>(<span class="kw">str_detect</span>(.,<span class="st">&quot;Montaudoin&quot;</span>)))</span>
<span id="cb141-3"><a href="manipulation-des-données.html#cb141-3"></a></span>
<span id="cb141-4"><a href="manipulation-des-données.html#cb141-4"></a><span class="kw">print</span>(demo)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 7
##   voyageid slaximp yearam ptdepimp shipname   ownera              ownerb        
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;               &lt;chr&gt;         
## 1    30020     300   1713 Nantes   Luzançay   Montaudoin Delauna~ &lt;NA&gt;          
## 2    30022     316   1713 Nantes   Affriquain Montaudoin*         Montaudouin, ~
## 3    30903     611   1770 Nantes   Corisante  Montaudoin          Montaudoin (F~</code></pre>
</div>
</div>
</div>
<div id="exemples" class="section level2">
<h2><span class="header-section-number">3.5</span> Exemples</h2>
<div id="femmes-propriétaires-de-navires-nantais-armés-pour-la-traite-atlantique" class="section level3">
<h3><span class="header-section-number">3.5.1</span> Femmes propriétaires de navires nantais armés pour la traite atlantique</h3>
<p>Nous stockons dans le tableau <code>ntes</code> une déclinaison du tableau de données <code>voyages</code>.
Il s’agit de ne conserver que les expéditions au départ de Nantes et de positionner les colonnes correspondants aux propriétaires parmi les premières colonnes afin de faciliter la lecture directe des données.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="manipulation-des-données.html#cb143-1"></a>ntes &lt;-<span class="st">  </span>voyages <span class="op">%&gt;%</span></span>
<span id="cb143-2"><a href="manipulation-des-données.html#cb143-2"></a><span class="st">  </span><span class="kw">filter</span>(ptdepimp <span class="op">==</span><span class="st"> &quot;Nantes&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb143-3"><a href="manipulation-des-données.html#cb143-3"></a><span class="st">  </span><span class="kw">select</span>(voyageid, shipname, ptdepimp, yeardep, ownera<span class="op">:</span>ownerd) </span></code></pre></div>
<p>Une observation directe des données nous permet de constater que, bien que les prénoms des hommes sont communément mentionnés, ceux des femmes n’apparaissent pas. Pour autant plusieurs noms de propriétaires suivis de l’abréviation (Vve) attirent notre attention. Il s’agit de veuves que l’on retrouve fréquemment associées à leurs fils</p>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#cembqjlzvv .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cembqjlzvv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cembqjlzvv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#cembqjlzvv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#cembqjlzvv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cembqjlzvv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cembqjlzvv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cembqjlzvv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cembqjlzvv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cembqjlzvv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cembqjlzvv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cembqjlzvv .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#cembqjlzvv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cembqjlzvv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#cembqjlzvv .gt_from_md > :first-child {
  margin-top: 0;
}

#cembqjlzvv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cembqjlzvv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cembqjlzvv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#cembqjlzvv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cembqjlzvv .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#cembqjlzvv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cembqjlzvv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cembqjlzvv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cembqjlzvv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cembqjlzvv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#cembqjlzvv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cembqjlzvv .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#cembqjlzvv .gt_left {
  text-align: left;
}

#cembqjlzvv .gt_center {
  text-align: center;
}

#cembqjlzvv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cembqjlzvv .gt_font_normal {
  font-weight: normal;
}

#cembqjlzvv .gt_font_bold {
  font-weight: bold;
}

#cembqjlzvv .gt_font_italic {
  font-style: italic;
}

#cembqjlzvv .gt_super {
  font-size: 65%;
}

#cembqjlzvv .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="cembqjlzvv" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">voyageid</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">shipname</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">ptdepimp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">yeardep</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">ownera</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">ownerb</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">ownerc</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">ownerd</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">119</td>
      <td class="gt_row gt_left">Aimable Henriette</td>
      <td class="gt_row gt_left">Nantes</td>
      <td class="gt_row gt_right">1821</td>
      <td class="gt_row gt_left">Chardonneau, Richard</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">NA</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">121</td>
      <td class="gt_row gt_left">Aurore</td>
      <td class="gt_row gt_left">Nantes</td>
      <td class="gt_row gt_right">1820</td>
      <td class="gt_row gt_left">Lepertière</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">NA</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">344</td>
      <td class="gt_row gt_left">Aimable Henriette</td>
      <td class="gt_row gt_left">Nantes</td>
      <td class="gt_row gt_right">1822</td>
      <td class="gt_row gt_left">Chardonneau, Frédéric</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">NA</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">345</td>
      <td class="gt_row gt_left">Marie</td>
      <td class="gt_row gt_left">Nantes</td>
      <td class="gt_row gt_right">1822</td>
      <td class="gt_row gt_left">Dennis, Pierre-Thomas</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">NA</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">2860</td>
      <td class="gt_row gt_left">Louise</td>
      <td class="gt_row gt_left">Nantes</td>
      <td class="gt_row gt_right">1829</td>
      <td class="gt_row gt_left">Landaluze (Vve)</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">NA</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">30202</td>
      <td class="gt_row gt_left">Monarque</td>
      <td class="gt_row gt_left">Nantes</td>
      <td class="gt_row gt_right">1727</td>
      <td class="gt_row gt_left">Bertrand (Vve)</td>
      <td class="gt_row gt_left">Bertrand (Fils)*</td>
      <td class="gt_row gt_left">NA</td>
      <td class="gt_row gt_left">NA</td>
    </tr>
  </tbody>
  
  
</table></div>
<p>Vous pouvez donc filtrer les lignes correspondants aux veuves comme <code>ownera</code> ou <code>ownerb</code> en utilisant la fonction <code>str_detect</code> (le signe <code>|</code> correspondant à l’opérateur logique OU).</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="manipulation-des-données.html#cb144-1"></a>ntes_vves &lt;-<span class="st">  </span>voyages <span class="op">%&gt;%</span></span>
<span id="cb144-2"><a href="manipulation-des-données.html#cb144-2"></a><span class="st">  </span><span class="kw">filter</span>(ptdepimp <span class="op">==</span><span class="st"> &quot;Nantes&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb144-3"><a href="manipulation-des-données.html#cb144-3"></a><span class="st">  </span><span class="kw">select</span>(voyageid, shipname, ptdepimp, yeardep, ownera<span class="op">:</span>ownerd) <span class="op">%&gt;%</span></span>
<span id="cb144-4"><a href="manipulation-des-données.html#cb144-4"></a><span class="st">  </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(ownera, <span class="st">&quot;Vve&quot;</span>) <span class="op">|</span></span>
<span id="cb144-5"><a href="manipulation-des-données.html#cb144-5"></a><span class="st">           </span><span class="kw">str_detect</span>(ownerb, <span class="st">&quot;Vve&quot;</span>) <span class="op">|</span></span>
<span id="cb144-6"><a href="manipulation-des-données.html#cb144-6"></a><span class="st">           </span><span class="kw">str_detect</span>(ownerc, <span class="st">&quot;Vve&quot;</span>))</span></code></pre></div>
<p>La participation des femmes au commerce maritime ne concerne pas uniquement les veuves. Des femmes mariées y participent travaillant avec leur époux ou en exerçant le commerce à leur compte. ainsi une lecture plus attentive permet de repérer la précision (Dame) pour l’un des propriétaires de l’expédition 30362.</p>
<table>
<thead>
<tr class="header">
<th align="right">voyageid</th>
<th align="left">shipname</th>
<th align="left">ptdepimp</th>
<th align="right">yeardep</th>
<th align="left">ownera</th>
<th align="left">ownerb</th>
<th align="left">ownerc</th>
<th align="left">ownerd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">30362</td>
<td align="left">Saint René</td>
<td align="left">Nantes</td>
<td align="right">1739</td>
<td align="left">Bertrand (Dame)</td>
<td align="left">Bertrand (Fils)*</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<p>Vous pouvez, par conséquent, compléter chaque motif de recherche <code>Vve</code>par l’alternative <code>Dame</code>.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="manipulation-des-données.html#cb145-1"></a>ntes_femmes1 &lt;-<span class="st">  </span>voyages <span class="op">%&gt;%</span></span>
<span id="cb145-2"><a href="manipulation-des-données.html#cb145-2"></a><span class="st">  </span><span class="kw">filter</span>(ptdepimp <span class="op">==</span><span class="st"> &quot;Nantes&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb145-3"><a href="manipulation-des-données.html#cb145-3"></a><span class="st">  </span><span class="kw">select</span>(voyageid, shipname, ptdepimp, yeardep, ownera<span class="op">:</span>ownerd) <span class="op">%&gt;%</span></span>
<span id="cb145-4"><a href="manipulation-des-données.html#cb145-4"></a><span class="st">  </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(ownera, <span class="st">&quot;Vve|Dame&quot;</span>) <span class="op">|</span><span class="st"> </span><span class="kw">str_detect</span>(ownerb, <span class="st">&quot;Vve|Dame&quot;</span>) <span class="op">|</span><span class="st"> </span><span class="kw">str_detect</span>(ownerc, <span class="st">&quot;Vve|Dame&quot;</span>))</span></code></pre></div>
<p>Enfin, une autre approche est également possible en faisant appel à la fonction <code>filter_at</code>.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="manipulation-des-données.html#cb146-1"></a>  ntes_femmes2 &lt;-<span class="st">  </span>voyages <span class="op">%&gt;%</span></span>
<span id="cb146-2"><a href="manipulation-des-données.html#cb146-2"></a><span class="st">  </span><span class="kw">filter</span>(ptdepimp <span class="op">==</span><span class="st"> &quot;Nantes&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb146-3"><a href="manipulation-des-données.html#cb146-3"></a><span class="st">  </span><span class="kw">select</span>(voyageid, shipname, ptdepimp, yeardep, ownera<span class="op">:</span>ownerd) <span class="op">%&gt;%</span></span>
<span id="cb146-4"><a href="manipulation-des-données.html#cb146-4"></a><span class="st">  </span><span class="kw">filter_at</span>(<span class="kw">vars</span>(ownera<span class="op">:</span>ownerd), <span class="kw">any_vars</span>(<span class="kw">str_detect</span>(.,<span class="st">&quot;Vve|Dame&quot;</span>)))</span></code></pre></div>
<p>Référence :
Nicole Dufournaud et Bernard Michon, « Les femmes et le commerce maritime à Nantes (1660-1740) : un rôle largement méconnu », Clio. Histoire‚ femmes et sociétés [En ligne], 23 | 2006, mis en ligne le 01 juin 2008, consulté le 30 mars 2020. URL : <a href="http://journals.openedition.org/clio/1926" class="uri">http://journals.openedition.org/clio/1926</a> ; DOI : <a href="https://doi.org/10.4000/clio.1926" class="uri">https://doi.org/10.4000/clio.1926</a></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="inventaire-des-données.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chronologies.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["RunH.pdf", "RunH.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
